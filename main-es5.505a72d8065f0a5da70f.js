!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,a,i=[],s=!0,r=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(l){r=!0,a=l}finally{try{s||null==n.return||n.return()}finally{if(r)throw a}}return i}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw s}}}}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}(self.webpackChunkigo=self.webpackChunkigo||[]).push([[179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},23256:function(o,a,s){"use strict";var l=s(4919),c=s(91477),p=s(3259),d=s(99613),u=s(38575),h=s(88535),g=s(98719),m=s(37682),f=s(41618),x=s(80639),v=s(34079),y=s(77127),w=function(e,t,n,o){return new(n||(n=Promise))(function(a,i){function s(e){try{l(o.next(e))}catch(t){i(t)}}function r(e){try{l(o.throw(e))}catch(t){i(t)}}function l(e){e.done?a(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(s,r)}l((o=o.apply(e,t||[])).next())})},S=function(){function e(t,n,o,a,s){i(this,e),this.platform=t,this.analyticsService=n,this.updates=o,this.languageService=a,this.configService=s,o.isEnabled&&(0,f.F)(12e4).subscribe(function(){return o.checkForUpdate()})}return r(e,[{key:"checkForUpdates",value:function(){var e=this;this.updates.isEnabled&&this.updates.available.pipe((0,x.b)(25e3)).subscribe(function(){var t=e.languageService.translate.instant("pwa.new-version-title"),n=e.languageService.translate.instant("pwa.new-version");confirm("".concat(t," ").concat(n))&&window.location.reload()})}},{key:"initPwaPrompt",value:function(){return w(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.configService.getConfig("promotePWA")&&(this.platform.IOS||window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),t.promptEvent=e,t.listenToUserAction()},{once:!0}));case 1:case"end":return e.stop()}},e,this)}))}},{key:"listenToUserAction",value:function(){var e=this;window.addEventListener("click",function(){e.showPrompt()},{once:!0})}},{key:"showPrompt",value:function(){return w(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.promptEvent.prompt(),e.next=3,this.promptEvent.userChoice;case 3:t=e.sent,this.analyticsService.trackEvent("app","installPwa",t.outcome),this.promptEvent=void 0;case 5:case"end":return e.stop()}},e,this)}))}}]),e}();S.\u0275fac=function(e){return new(e||S)(c.LFG(v.t4),c.LFG(u.yD),c.LFG(y.yO),c.LFG(u.TS),c.LFG(u.E4))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"});var b={production:!0,igo:{app:{forceCoordsNA:!0},analytics:{provider:"matomo",url:"https://geoegl.msp.gouv.qc.ca/matomo/",id:"38"},auth:{tokenKey:"id_token_igo",allowAnonymous:!0,trustHosts:["geoegl.msp.gouv.qc.ca"],hostsByKey:[{domainRegFilters:"(https://|http://)?(.*geoegl.msp.gouv.qc.ca/apis)(.*)",keyProperty:"key",keyValue:"d8UA0Y9iMIynBa"}]},catalog:{sources:[]},depot:{url:"/apis/depot"},importExport:{url:"https://geoegl.msp.gouv.qc.ca/apis/ogre",formats:["GeoJSON"],clientSideFileSizeMaxMb:75},language:{prefix:["./locale/","./locale/offline/"]},interactiveTour:{activateInteractiveTour:!1,tourInMobile:!0,pathToConfigFile:"./config/interactiveTour.json"},searchSources:{nominatim:{available:!1},storedqueries:{title:"R\xe9seau routier Transports Qu\xe9bec",searchUrl:"https://ws.mapserver.transports.gouv.qc.ca/swtq",available:!0,enabled:!0,storedquery_id:"rtss",srsname:"epsg:4326",fields:[{name:"rtss",defaultValue:"-99"},{name:"chainage",defaultValue:"0",splitPrefix:"\\+"}],resultTitle:"title"},storedqueriesreverse:{order:1,showInPointerSummary:!1,title:"Limite territoriale MTQ (par coordonn\xe9es)",searchUrl:"https://ws.mapserver.transports.gouv.qc.ca/swtq",enabled:!0,available:!0,storedquery_id:"dgt_latlon",srsname:"epsg:4326",longField:"long",latField:"lat",resultTitle:"nom_unite_"},icherche:{searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/icherche",order:2,params:{limit:"8",type:"adresses,codes-postaux,routes,intersections,municipalites,mrc,regadmin,lieux,sorties-autoroute,bornes-km"}},coordinatesreverse:{showInPointerSummary:!0},icherchereverse:{showInPointerSummary:!0,searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/terrapi",order:3,enabled:!0},ilayer:{searchUrl:"https://geoegl.msp.gouv.qc.ca/apis/icherche/layers",available:!1,order:4,params:{limit:"5"}},cadastre:{enabled:!1}},projections:[{code:"EPSG:32198",alias:"Quebec Lambert",def:"+proj=lcc +lat_1=60 +lat_2=46 +lat_0=44 +lon_0=-68.5 +x_0=0 +y_0=0           +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-799574,45802,891595.4,1849567.5]},{code:"EPSG:3798",alias:"MTQ Lambert",def:"+proj=lcc +lat_1=50 +lat_2=46 +lat_0=44 +lon_0=-70 +x_0=800000 +y_0=0           +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[31796.5834,158846.2231,1813323.4284,2141241.0978]}],searchOverlayStyle:{base:{markerColor:"#5ed0fb",markerOpacity:.8,markerOutlineColor:"#a7e7ff",fillColor:"#5ed0fb",fillOpacity:.2,strokeColor:"#5ed0fb",strokeOpacity:.7,strokeWidth:2},focus:{markerColor:"#00A1DE",markerOpacity:1,markerOutlineColor:"#DFF7FF",fillColor:"#00A1DE",fillOpacity:.3,strokeColor:"#00A1DE",strokeOpacity:1,strokeWidth:2},selection:{markerColor:"#FFFF33",markerOpacity:1,markerOutlineColor:"#000000",fillColor:"#FFFF33",fillOpacity:.3,strokeColor:"#FFFF33",strokeOpacity:.75,strokeWidth:4}},queryOverlayStyle:{base:{markerColor:"#136dbd",markerOpacity:.8,markerOutlineColor:"#a7e7ff",fillColor:"#136dbd",fillOpacity:0,strokeColor:"#136dbd",strokeOpacity:1,strokeWidth:2},focus:{markerColor:"#00A1DE",markerOpacity:1,markerOutlineColor:"#DFF7FF",fillColor:"#00A1DE",fillOpacity:.3,strokeColor:"#00A1DE",strokeOpacity:.6,strokeWidth:7},selection:{markerColor:"#02f7e7",markerOpacity:1,markerOutlineColor:"#000000",fillColor:"#02f7e7",fillOpacity:.3,strokeColor:"#02f7e7",strokeOpacity:.8,strokeWidth:10}}}},C=s(40093),O=s(45159),k=s(3323),P=s(80902),M=s(30620),_=s(18931),T=s(83156),E=s(30536),$=function e(){i(this,e)};$.\u0275fac=function(e){return new(e||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({imports:[[C.ez]]});var B=s(43635),j=s(87227),A=s(77820),F=function e(){i(this,e)};F.\u0275fac=function(e){return new(e||F)},F.\u0275mod=c.oAB({type:F}),F.\u0275inj=c.cJS({imports:[[C.ez,O.ot,k.Ps,j.Tx,B.ie,A.LD,M.AV,u.yR,h.BQ]]});var Z=s(72012),R=function e(){i(this,e)};R.\u0275fac=function(e){return new(e||R)},R.\u0275mod=c.oAB({type:R}),R.\u0275inj=c.cJS({imports:[[C.ez,Z.g,k.Ps,O.ot,M.AV,j.Tx,u.yR,h.Am,h.Po,h.AP,m.Ud7,m.tnH]]});var z=function e(){i(this,e)};z.\u0275fac=function(e){return new(e||z)},z.\u0275mod=c.oAB({type:z}),z.\u0275inj=c.cJS({imports:[[C.ez,k.Ps,O.ot,P.SJ,M.AV,u.yR,h.Am,h.O4,T.Zy,h.HL,m.Ud7,h.Gh,h.cQ]]});var I=function e(){i(this,e)};I.\u0275fac=function(e){return new(e||I)},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({imports:[[C.ez,k.Ps,O.ot,u.yR,h.Am,h.Po]]});var D=s(59298),L=s(63266),q=function e(){i(this,e)};q.\u0275fac=function(e){return new(e||q)},q.\u0275mod=c.oAB({type:q}),q.\u0275inj=c.cJS({imports:[[u.yR,C.ez,D.u5,_.Is,h.Gh,h.k_,O.ot,M.AV,k.Ps,L.g0]]});var W=function e(){i(this,e)};W.\u0275fac=function(e){return new(e||W)},W.\u0275mod=c.oAB({type:W}),W.\u0275inj=c.cJS({imports:[[C.ez,M.AV,O.ot,k.Ps,P.SJ,_.Is,u.PV,m.Ud7,m.ybB,m.FIR,m.y1m.forRoot(),m.TxX.forRoot(),h.AP,h.h5,h.mD,m.Jpu,h.Am,h.HL,h.qL,h.BQ,h.O4,E.fZ,F,R,I,z,$,T.Zy,T.jm,h.gr,h.t3,h.Gh,q]]});var J=s(90490),Q=s(33927),H=s(66739),Y=s(76491),N=s(79097),U=s(81134),V=s(15347),X=s(56816),G=s(65318),K=s(78767),ee=s(53466),te=s(20088),ne=s(88454),oe=(s(97223),s(82458)),ae=s(34301),ie=function(){function e(t,n){i(this,e),this.configService=t,this.storageService=n,this.igoVersionDifferentFromStorage=!1,this.igoVersionDifferentFromStorage=this.isVersionDifferentFromStorage(),this.setStorageConfig()}return r(e,[{key:"setStorageConfig",value:function(){this.nbVisit=Number(this.storageService.get("welcomeWindow_nbVisit")),this.nbVisit||(this.nbVisit=0),this.storageService.set("welcomeWindow_nbVisit",this.nbVisit+=1),this.storageService.set("version",this.configService.getConfig("version.lib"))}},{key:"isVersionDifferentFromStorage",value:function(){return!(!this.storageService.get("version")||this.storageService.get("version")===this.configService.getConfig("version.lib"))}},{key:"hasWelcomeWindow",value:function(){return!1===this.storageService.get("welcomeWindow_showAgain")||"false"===this.storageService.get("welcomeWindow_showAgain")?(this.nbVisit>=this.configService.getConfig("welcomeWindow.nbVisitToShowAgain")||!(!this.configService.getConfig("welcomeWindow.showAgainOnNewIGOVersion")||!this.igoVersionDifferentFromStorage))&&(this.storageService.set("welcomeWindow_nbVisit",0),this.storageService.remove("welcomeWindow_showAgain"),!0):void 0!==this.configService.getConfig("welcomeWindow.nbVisitToShow")&&this.nbVisit>this.configService.getConfig("welcomeWindow.nbVisitToShow")?(this.storageService.set("welcomeWindow_showAgain",!1),!1):this.configService.getConfig("welcomeWindow")}},{key:"getConfig",value:function(){var e=new _.vA;return e.disableClose=!0,e.autoFocus=!0,e.maxWidth="500px",e}},{key:"afterClosedWelcomeWindow",value:function(){this.storageService.set("welcomeWindow_showAgain",this.showAgain)}}]),e}();ie.\u0275fac=function(e){return new(e||ie)(c.LFG(u.E4),c.LFG(u.V1))},ie.\u0275prov=c.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"});var se=s(13828);function re(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"mat-toolbar",2),c.TgZ(2,"h2"),c._uU(3),c.ALo(4,"translate"),c.qZA(),c._UZ(5,"span",3),c.TgZ(6,"label"),c.TgZ(7,"input",4),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().showAgain=e})("click",function(){return c.CHM(n),c.oxw().setShowAgain()}),c.qZA(),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.qZA(),c.TgZ(10,"div",5),c._UZ(11,"igo-custom-html",6),c.ALo(12,"async"),c.qZA(),c._UZ(13,"p"),c.TgZ(14,"div",7),c.TgZ(15,"igo-interactive-tour",8),c.NdJ("click",function(){return c.CHM(n),c.oxw().closeWelcomeWindow()}),c.qZA(),c.TgZ(16,"button",9),c._uU(17),c.ALo(18,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var o=c.oxw();c.xp6(3),c.Oqu(c.lcZ(4,6,"welcomeWindow.title")),c.xp6(4),c.Q6J("ngModel",o.showAgain),c.xp6(1),c.hij(" ",c.lcZ(9,8,"welcomeWindow.notShowCheck")," "),c.xp6(3),c.Q6J("html",c.lcZ(12,10,o.html$)),c.xp6(4),c.Q6J("discoverTitleInLocale$",o.discoverTitleInLocale$),c.xp6(2),c.Oqu(c.lcZ(18,12,"welcomeWindow.closeButton"))}}var le=function(){function e(t,n,o,a){i(this,e),this.dialog=t,this.welcomeWindowService=n,this.configService=o,this.languageService=a,this.showAgain=!1,this.discoverTitleInLocale$=(0,U.of)(this.configService.getConfig("welcomeWindow.discoverTitleInLocale")||this.configService.getConfig("title")),this.html$=new Y.X(void 0)}return r(e,[{key:"ngOnInit",value:function(){this.computeHtml()}},{key:"closeWelcomeWindow",value:function(){this.dialog.closeAll()}},{key:"computeHtml",value:function(){var e=this,t=0,n=!0,o=new Date(this.configService.getConfig("version.releaseDate")),a=this.configService.getConfig("version.releaseDateApp");if(a){var i=new Date(a);isNaN(i.getDate())?(console.log("The releaseDateApp config is not a valid date format"),n=!1):(t=1,o=i)}var s="";if(n){var r=o.getDate()+t;r<10&&(r="0"+r);var l=o.getMonth()+1;l<10&&(l="0"+l),s="".concat(o.getFullYear(),"-").concat(l,"-").concat(r)}else s=a;return this.title$$=this.languageService.translate.get(this.configService.getConfig("title")||"").pipe((0,Q.U)(function(t){return e.languageService.translate.instant("welcomeWindow.html",{title:t,description:e.configService.getConfig("description")||"",version:e.configService.getConfig("version.app")||e.configService.getConfig("version.lib")||"",releaseDate:s||""})})).subscribe(function(t){return e.html$.next(t)}),this.html$}},{key:"setShowAgain",value:function(){this.welcomeWindowService.showAgain=this.showAgain}},{key:"ngOnDestroy",value:function(){this.title$$&&this.title$$.unsubscribe()}}]),e}();le.\u0275fac=function(e){return new(e||le)(c.Y36(_.uw),c.Y36(ie),c.Y36(u.E4),c.Y36(u.TS))},le.\u0275cmp=c.Xpm({type:le,selectors:[["app-welcome-window"]],decls:2,vars:3,consts:[["class","welcome-window",4,"ngIf"],[1,"welcome-window"],["color","primary"],[1,"spacer"],["id","doNotShowCheck","type","checkbox",3,"ngModel","ngModelChange","click"],["mat-dialog-content","",1,"text"],[1,"mat-typography",3,"html"],[1,"button-container"],["id","tour-button","styleButton","raised",3,"discoverTitleInLocale$","click"],["mat-raised-button","","color","primary","mat-dialog-close","",1,"button-close"]],template:function(e,t){1&e&&(c.YNc(0,re,19,14,"div",0),c.ALo(1,"async")),2&e&&c.Q6J("ngIf",c.lcZ(1,1,t.html$))},directives:[C.O5,L.Ye,D.Wl,D.JJ,D.On,_.xY,h.n_,h.bB,O.lW,_.ZT],pipes:[C.Ov,se.X$],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}#doNotShowCheck[_ngcontent-%COMP%]{margin-right:5px}mat-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:revert}"]});var ce=s(5883);function pe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-home-button",9),c.NdJ("unselectButton",function(){return c.CHM(n),c.oxw().onUnselectButtonClick()}),c.qZA()}}function de(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",function(){return c.CHM(n),c.oxw().onPreviousButtonClick()}),c.ALo(1,"translate"),c._UZ(2,"mat-icon",11),c.qZA()}2&e&&c.Q6J("matTooltip",c.lcZ(1,1,"igo.context.sidenav.goBack"))}var ue=function(e){return{toolActivated:e}},he=function(){function e(t,n,o){i(this,e),this.toolState=t,this.configService=n,this.catalogState=o,this.title$=new Y.X(void 0),this.openedChange=new c.vpe,this.toolChange=new c.vpe}return r(e,[{key:"map",get:function(){return this._map},set:function(e){this._map=e}},{key:"opened",get:function(){return this._opened},set:function(e){e!==this._opened&&(this._opened=e,this.openedChange.emit(this._opened))}},{key:"toolbox",get:function(){return this.toolState.toolbox}},{key:"ngOnInit",value:function(){var e=this;this.activeTool$$=this.toolbox.activeTool$.subscribe(function(t){var o=e.configService.getConfig("sidenavTitle")||"IGO";if(t)if("catalogBrowser"===t.name){var a,i=n(e.catalogState.catalogStore.all());try{for(i.s();!(a=i.n()).done;){var s=a.value;!0===e.catalogState.catalogStore.state.get(s).selected&&e.title$.next(s.title)}}catch(p){i.e(p)}finally{i.f()}}else if("activeTimeFilter"===t.name||"activeOgcFilter"===t.name){var r,l=n(e.map.layers);try{for(l.s();!(r=l.n()).done;){var c=r.value;!0===c.options.active&&e.title$.next(c.title)}}catch(p){l.e(p)}finally{l.f()}}else e.title$.next(t.title);else e.title$.next(o);e.toolChange.emit(t)})}},{key:"ngOnDestroy",value:function(){this.activeTool$$.unsubscribe()}},{key:"onPreviousButtonClick",value:function(){this.toolbox.activatePreviousTool()}},{key:"onUnselectButtonClick",value:function(){this.toolbox.deactivateTool()}}]),e}();he.\u0275fac=function(e){return new(e||he)(c.Y36(E.EH),c.Y36(u.E4),c.Y36(E.Yy))},he.\u0275cmp=c.Xpm({type:he,selectors:[["app-sidenav"]],inputs:{map:"map",opened:"opened"},outputs:{openedChange:"openedChange",toolChange:"toolChange"},decls:14,vars:20,consts:[["mode","side",3,"autoFocus","opened","openedChange"],[1,"app-sidenav-content"],[1,"app-content",3,"ngClass"],["content",""],[3,"unselectButton",4,"ngIf"],[3,"title"],["mat-icon-button","","panelLeftButton","","tooltip-position","below","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["panelRightButton","","styleButton","icon"],["color","primary",1,"igo-toolbox",3,"animate","toolbox"],[3,"unselectButton"],["mat-icon-button","","panelLeftButton","","tooltip-position","below","matTooltipShowDelay","500",3,"matTooltip","click"],["svgIcon","arrow-left"]],template:function(e,t){1&e&&(c.TgZ(0,"mat-sidenav",0),c.NdJ("openedChange",function(e){return t.opened=e}),c.TgZ(1,"div",1),c.TgZ(2,"div",2,3),c.ALo(4,"async"),c.YNc(5,pe,1,0,"igo-home-button",4),c.ALo(6,"async"),c.TgZ(7,"igo-panel",5),c.ALo(8,"translate"),c.ALo(9,"async"),c.YNc(10,de,3,3,"button",6),c.ALo(11,"async"),c._UZ(12,"igo-interactive-tour",7),c._UZ(13,"igo-toolbox",8),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("autoFocus",!1)("opened",t.opened),c.xp6(2),c.Q6J("ngClass",c.VKq(18,ue,c.lcZ(4,8,t.toolbox.activeTool$))),c.xp6(3),c.Q6J("ngIf",c.lcZ(6,10,t.toolbox.activeTool$)),c.xp6(2),c.Q6J("title",c.lcZ(8,12,c.lcZ(9,14,t.title$))),c.xp6(3),c.Q6J("ngIf",c.lcZ(11,16,t.toolbox.activeTool$)),c.xp6(3),c.Q6J("animate",!0)("toolbox",t.toolbox))},directives:[P.JX,C.mk,C.O5,h.yX,h.bB,h.zv,h.p1,O.lW,M.gM,k.Hw],pipes:[C.Ov,se.X$],styles:["mat-sidenav[_ngcontent-%COMP%]{-o-box-shadow:2px 2px 2px 0px #dddddd;box-shadow:2px 2px 2px #ddd}[_nghost-%COMP%]{background-color:#fff}[_nghost-%COMP%]     mat-sidenav{z-index:3!important}mat-sidenav[_ngcontent-%COMP%]{height:100%;width:400px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){mat-sidenav[_ngcontent-%COMP%]{width:calc(100% - 40px - 5px);max-width:400px}}.app-content[_ngcontent-%COMP%], igo-panel[_ngcontent-%COMP%]{height:100%}.app-sidenav-content[_ngcontent-%COMP%]{margin-top:50px;height:calc(100% - 50px)}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-sidenav-content[_ngcontent-%COMP%]{height:calc(100% - 50px)}}igo-panel[_ngcontent-%COMP%]     .igo-panel-content{position:relative}div.toolActivated[_ngcontent-%COMP%] > igo-panel[_ngcontent-%COMP%]    >div.igo-panel-header{margin-left:50px;position:relative}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-toolbox[_ngcontent-%COMP%]{overflow:auto}}"],changeDetection:0});var ge=function(e){return{width:e}};function me(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"img",6),c.BQk()),2&e){var n=c.oxw(2).$implicit;c.xp6(1),c.Q6J("src",n.imgSrc,c.LSH)("alt",n.alt)("ngStyle",c.VKq(3,ge,n.imgSize))}}function fe(e,t){if(1&e&&(c.TgZ(0,"a",4),c._uU(1),c.YNc(2,me,2,5,"ng-container",5),c.qZA()),2&e){var n=c.oxw().$implicit;c.Q6J("href",n.link,c.LSH),c.xp6(1),c.hij(" ",n.text," "),c.xp6(1),c.Q6J("ngIf",n.imgSrc)}}function xe(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"img",6),c.BQk()),2&e){var n=c.oxw(2).$implicit;c.xp6(1),c.Q6J("src",n.imgSrc,c.LSH)("alt",n.alt)("ngStyle",c.VKq(3,ge,n.imgSize))}}function ve(e,t){if(1&e&&(c._uU(0),c.YNc(1,xe,2,5,"ng-container",5)),2&e){var n=c.oxw().$implicit;c.hij(" ",n.text," "),c.xp6(1),c.Q6J("ngIf",n.imgSrc)}}function ye(e,t){if(1&e&&(c.ynx(0),c.TgZ(1,"div",1),c.YNc(2,fe,3,3,"a",2),c.YNc(3,ve,2,2,"ng-template",null,3,c.W1O),c.qZA(),c.BQk()),2&e){var n=t.$implicit,o=c.MAs(4);c.xp6(1),c.Udp("position",n.fixed?"fixed":"absolute")("margin-left",n.marginLeft)("margin-right",n.marginRight)("margin-top",n.marginTop)("margin-bottom",n.marginBottom)("font-size",n.fontSize),c.Q6J("ngClass",n.cssClass),c.xp6(1),c.Q6J("ngIf",n.link)("ngIfElse",o)}}var we=function(){function e(t,n,o){i(this,e),this.contextService=t,this.mediaService=n,this.configService=o,this.mapOverlay=[]}return r(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.context$$=this.contextService.context$.subscribe(function(t){e.handleContextChange(t),e.context=t}),this.media$$=this.mediaService.media$.subscribe(function(t){return e.handleContextChange(e.context)})}},{key:"ngOnDestroy",value:function(){this.context$$.unsubscribe(),this.media$$.unsubscribe()}},{key:"handleContextChange",value:function(e){var t=[];if(void 0!==e){this.mapOverlay=[],e.mapOverlay?t=e.mapOverlay:this.configService.getConfig("mapOverlay")&&(t=this.configService.getConfig("mapOverlay"));var o,a=n(t);try{for(a.s();!(o=a.n()).done;){var i=o.value;(!i.media&&"desktop"===this.mediaService.getMedia()||i.media&&i.media.includes(this.mediaService.getMedia()))&&this.mapOverlay.push(i)}}catch(s){a.e(s)}finally{a.f()}}}}]),e}();we.\u0275fac=function(e){return new(e||we)(c.Y36(T.Ob),c.Y36(u.yJ),c.Y36(u.E4))},we.\u0275cmp=c.Xpm({type:we,selectors:[["app-map-overlay"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mapOverlayDefault",3,"ngClass"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["templateNoLink",""],["target","_blank",3,"href"],[4,"ngIf"],[3,"src","alt","ngStyle"]],template:function(e,t){1&e&&c.YNc(0,ye,5,15,"ng-container",0),2&e&&c.Q6J("ngForOf",t.mapOverlay)},directives:[C.sg,C.mk,C.O5,C.PC],styles:["[_nghost-%COMP%]{height:100%;top:0;left:0;right:0;position:fixed;pointer-events:none}.mapOverlayDefault[_ngcontent-%COMP%]{position:absolute;white-space:nowrap;pointer-events:auto}.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0}.top-right[_ngcontent-%COMP%]{top:0;right:0}.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.top-left[_ngcontent-%COMP%]{top:0;left:0}.bottom-center[_ngcontent-%COMP%]{bottom:0;left:50%;transform:translate(-50%)}.top-center[_ngcontent-%COMP%]{top:0;left:50%;transform:translate(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:0}.center-left[_ngcontent-%COMP%]{top:50%;left:0}"]});var Se=function(){function e(){i(this,e),this.openedChange=new c.vpe}return r(e,[{key:"opened",get:function(){return this._opened},set:function(e){e!==this._opened&&(this._opened=e,this.openedChange.emit(this._opened))}},{key:"hasOpenedClass",get:function(){return this.opened}},{key:"displayStyle",get:function(){return this.withHeader||this.opened?"visible":"hidden"}}]),e}();function be(e,t){1&e&&c._UZ(0,"mat-icon",5)}function Ce(e,t){1&e&&c._UZ(0,"mat-icon",6)}Se.\u0275fac=function(e){return new(e||Se)},Se.\u0275cmp=c.Xpm({type:Se,selectors:[["app-toast-panel-for-expansion"]],hostVars:4,hostBindings:function(e,t){2&e&&(c.Udp("visibility",t.displayStyle),c.ekj("toast-panel-for-expansion-opened",t.hasOpenedClass))},inputs:{opened:"opened",title:"title",withHeader:"withHeader"},outputs:{openedChange:"openedChange"},ngContentSelectors:["*"],decls:4,vars:3,consts:[[3,"title","withHeader"],["content",""]],template:function(e,t){1&e&&(c.F$t(),c.TgZ(0,"igo-panel",0),c.TgZ(1,"div",null,1),c.Hsn(3),c.qZA(),c.qZA()),2&e&&(c.Q6J("title",t.title)("withHeader",t.withHeader),c.xp6(1),c.Q6J("@showContent",t.opened))},directives:[h.yX],styles:["[_nghost-%COMP%]{-o-box-shadow:0px 0px 2px 0px #dddddd;box-shadow:0 0 2px #ddd}[_nghost-%COMP%]{background-color:#fff;height:48px;max-height:329px;transition:height .28s cubic-bezier(.4,0,.2,1);padding:5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){[_nghost-%COMP%]{max-height:40%}}.toast-panel-for-expansion-opened[_nghost-%COMP%]{height:329px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.toast-panel-for-expansion-opened[_nghost-%COMP%]{height:40%}}igo-panel[_ngcontent-%COMP%]{position:relative;height:100%}igo-panel[_ngcontent-%COMP%]     .igo-panel-header:hover{cursor:pointer}div[igostoppropagation][_ngcontent-%COMP%]{height:100%;width:100%}"],data:{animation:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50ms",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"280ms",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ease-in-out";return(0,oe.X$)("showContent",[(0,oe.SB)("true",(0,oe.oB)({opacity:1,display:"block"})),(0,oe.SB)("false",(0,oe.oB)({opacity:0,display:"none"})),(0,oe.eR)("false => true",(0,oe.jt)("".concat(e," ").concat(t," ").concat(n))),(0,oe.eR)("true => false",(0,oe.jt)("0ms"))])}()]},changeDetection:0});var Oe=function(){function e(){i(this,e),this.expandedChange=new c.vpe}return r(e,[{key:"expanded",get:function(){return this._expanded},set:function(e){e!==this._expanded&&(this._expanded=e,this.expandedChange.emit(this._expanded))}},{key:"hasExpandedClass",get:function(){return this.expanded}},{key:"onToggleClick",value:function(){this.expanded=!this.expanded}}]),e}();Oe.\u0275fac=function(e){return new(e||Oe)},Oe.\u0275cmp=c.Xpm({type:Oe,selectors:[["app-expansion-panel-header"]],hostVars:2,hostBindings:function(e,t){2&e&&c.ekj("app-expansion-panel-header-expanded",t.hasExpandedClass)},inputs:{expanded:"expanded"},outputs:{expandedChange:"expandedChange"},ngContentSelectors:["*"],decls:8,vars:5,consts:[[1,"app-expansion-panel-trigger-container"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["svgIcon","launch",4,"ngIf"],["style","transform: rotate(180deg)","svgIcon","launch",4,"ngIf"],[1,"app-expansion-panel-content"],["svgIcon","launch"],["svgIcon","launch",2,"transform","rotate(180deg)"]],template:function(e,t){1&e&&(c.F$t(),c.TgZ(0,"div"),c.TgZ(1,"div",0),c.TgZ(2,"button",1),c.NdJ("click",function(){return t.onToggleClick()}),c.ALo(3,"translate"),c.YNc(4,be,1,0,"mat-icon",2),c.YNc(5,Ce,1,0,"mat-icon",3),c.qZA(),c.qZA(),c.TgZ(6,"div",4),c.Hsn(7),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("matTooltip",c.lcZ(3,3,t.expanded?"workspace.close":"workspace.open")),c.xp6(2),c.Q6J("ngIf",!t.expanded),c.xp6(1),c.Q6J("ngIf",t.expanded))},directives:[O.lW,M.gM,C.O5,k.Hw],pipes:[se.X$],styles:["[_nghost-%COMP%]{display:block;height:calc(40px + 10px);border-bottom:2px solid aliceblue}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.app-expansion-panel-trigger-container[_ngcontent-%COMP%], .app-expansion-panel-content[_ngcontent-%COMP%]{display:contents}"],changeDetection:0});var ke=[[["","expansionPanelHeader",""]],"*"],Pe=function(){function e(){i(this,e),this.maximized=!1,this.expandedChange=new c.vpe}return r(e,[{key:"expanded",get:function(){return this._expanded},set:function(e){e!==this._expanded&&(this._expanded=e,this.expandedChange.emit(this._expanded))}},{key:"backdropShown",get:function(){return this._backdropShown},set:function(e){this._backdropShown=e}},{key:"hasExpandedClass",get:function(){return this.expanded&&!this.maximized}},{key:"hasExpandedFullClass",get:function(){return this.expanded&&this.maximized}},{key:"onBackdropClick",value:function(){this.expanded=!1,this.backdropShown=!1}}]),e}();Pe.\u0275fac=function(e){return new(e||Pe)},Pe.\u0275cmp=c.Xpm({type:Pe,selectors:[["app-expansion-panel"]],hostVars:4,hostBindings:function(e,t){2&e&&c.ekj("app-expansion-panel-expanded",t.hasExpandedClass)("app-expansion-panel-expanded-maximized",t.hasExpandedFullClass)},inputs:{expanded:"expanded",maximized:"maximized",backdropShown:"backdropShown"},outputs:{expandedChange:"expandedChange"},ngContentSelectors:["[expansionPanelHeader]","*"],decls:7,vars:3,consts:[[1,"app-expansion-panel-container"],[3,"shown","click"],[3,"expanded","expandedChange"],[1,"app-expansion-panel-content","mat-elevation-z4"]],template:function(e,t){1&e&&(c.F$t(ke),c.TgZ(0,"div"),c.TgZ(1,"div",0),c.TgZ(2,"igo-backdrop",1),c.NdJ("click",function(){return t.onBackdropClick()}),c.qZA(),c.TgZ(3,"app-expansion-panel-header",2),c.NdJ("expandedChange",function(e){return t.expanded=e}),c.Hsn(4),c.qZA(),c.TgZ(5,"div",3),c.Hsn(6,1),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("shown",t.backdropShown),c.xp6(1),c.Q6J("expanded",t.expanded),c.xp6(2),c.Q6J("@showContent",t.expanded))},directives:[h.qv,Oe],styles:["[_nghost-%COMP%]{-o-box-shadow:0px 0px 2px 0px #dddddd;box-shadow:0 0 2px #ddd}[_nghost-%COMP%]{display:block;background-color:#fff;height:40px;width:40px;transition:height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1)}.app-expansion-panel-container[_ngcontent-%COMP%]{height:100%;width:100%}.app-expansion-panel-expanded[_nghost-%COMP%]{height:281px;width:100%;z-index:6}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-expansion-panel-expanded.footer[_nghost-%COMP%]{margin-bottom:48px}}.app-expansion-panel-expanded-maximized[_nghost-%COMP%]{height:496px;width:100%;z-index:6}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-expansion-panel-expanded-maximized.footer[_nghost-%COMP%]{margin-bottom:48px}}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:100%;width:100%}.app-expansion-panel-content[_ngcontent-%COMP%]{height:calc(100% - calc(40px + 10px));overflow:auto;padding:5px}igo-backdrop[_ngcontent-%COMP%]    >div{z-index:120!important}.app-expansion-panel-content[_ngcontent-%COMP%]     .igo-entity-table-with-selection{width:100%}"],data:{animation:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"150ms",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"300ms",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ease-in-out";return(0,oe.X$)("showContent",[(0,oe.SB)("true",(0,oe.oB)({opacity:1,display:"block"})),(0,oe.SB)("false",(0,oe.oB)({opacity:0,display:"none"})),(0,oe.eR)("false => true",(0,oe.jt)("".concat(e," ").concat(t," ").concat(n))),(0,oe.eR)("true => false",(0,oe.jt)("0ms"))])}()]},changeDetection:0});var Me=s(98636),_e=s(33697),Te=s(32475);function Ee(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",15),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).zoomTo()}),c.ALo(1,"translate"),c.ALo(2,"async"),c._UZ(3,"mat-icon",16),c.ALo(4,"async"),c.ALo(5,"async"),c.qZA()}if(2&e){var o=c.oxw(3);c.Q6J("matTooltip",c.lcZ(1,3,c.lcZ(2,5,o.isSelectedResultOutOfView$)?"toastPanel.zoomOnFeatureTooltipOutOfView":"toastPanel.zoomOnFeatureTooltip")),c.xp6(3),c.Q6J("matBadge",c.lcZ(4,7,o.isSelectedResultOutOfView$)?"!":"")("matBadgeHidden",!0!==c.lcZ(5,9,o.isSelectedResultOutOfView$))}}function $e(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).previousResult()}),c.ALo(1,"translate"),c._UZ(2,"mat-icon",18),c.qZA()}if(2&e){var o=c.oxw(3);c.Q6J("disabled",o.results[0].meta.id===o.resultSelected$.value.meta.id)("matTooltip",c.lcZ(1,2,"toastPanel.previousFeatureTooltip"))}}function Be(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",19),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).nextResult()}),c.ALo(1,"translate"),c._UZ(2,"mat-icon",20),c.qZA()}if(2&e){var o=c.oxw(3);c.Q6J("disabled",o.results[o.results.length-1].meta.id===o.resultSelected$.value.meta.id)("matTooltip",c.lcZ(1,2,"toastPanel.nextFeatureTooltip"))}}function je(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).resizeWindows()}),c.ALo(1,"translate"),c.ALo(2,"async"),c._UZ(3,"mat-icon",22),c.qZA()}if(2&e){var o=c.oxw(3);c.Q6J("matTooltip",c.lcZ(1,2,c.lcZ(2,4,o.fullExtent$)?"toastPanel.standardExtentTooltip":"toastPanel.fullExtentTooltip")),c.xp6(3),c.s9C("svgIcon",o.iconResizeWindows)}}function Ae(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-feature-details",23),c.NdJ("htmlDisplayEvent",function(e){return c.CHM(n),c.oxw(3).setHtmlDisplay(e)}),c.qZA()}if(2&e){var o=c.oxw(3);c.Q6J("feature",o.resultSelected$.value.data)}}function Fe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-search-results",24),c.NdJ("resultFocus",function(e){return c.CHM(n),c.oxw(3).focusResult(e)})("resultUnfocus",function(e){return c.CHM(n),c.oxw(3).unfocusResult(e,!0)})("resultSelect",function(e){return c.CHM(n),c.oxw(3).selectResult(e)}),c.qZA()}if(2&e){var o=c.oxw(3);c.Q6J("map",o.map)("store",o.store)("showIcons",!0)("withZoomButton",o.withZoomButton)}}function Ze(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-panel",3),c.NdJ("click",function(e){return c.CHM(n),c.oxw(2).onToggleClick(e)})("keydown",function(e){return c.CHM(n),c.oxw(2).handleKeyboardEvent(e)}),c.ALo(1,"translate"),c._UZ(2,"igo-actionbar",4),c.YNc(3,Ee,6,11,"button",5),c.YNc(4,$e,3,4,"button",6),c.YNc(5,Be,3,4,"button",7),c.YNc(6,je,4,6,"button",8),c.TgZ(7,"button",9),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).clear()}),c._UZ(8,"mat-icon",10),c.qZA(),c.TgZ(9,"div",11,12),c.YNc(11,Ae,1,1,"igo-feature-details",13),c.YNc(12,Fe,1,4,"igo-search-results",14),c.qZA(),c.qZA()}if(2&e){var o=c.oxw(2);c.Q6J("ngClass",o.getClassPanel())("title",o.resultSelected$.value?o.getTitle(o.resultSelected$.value):c.lcZ(1,14,"toastPanel.title")),c.xp6(2),c.Q6J("store",o.actionStore)("withIcon",!0)("icon",o.icon)("withTitle","overlay"===o.actionbarMode)("horizontal",!0)("mode",o.actionbarMode),c.xp6(1),c.Q6J("ngIf",o.resultSelected$.value),c.xp6(1),c.Q6J("ngIf",o.resultSelected$.value),c.xp6(1),c.Q6J("ngIf",o.resultSelected$.value),c.xp6(1),c.Q6J("ngIf",o.isDesktop()),c.xp6(5),c.Q6J("ngIf",o.resultSelected$.value),c.xp6(1),c.Q6J("ngIf",!o.resultSelected$.value)}}function Re(e,t){if(1&e&&(c.YNc(0,Ze,13,16,"igo-panel",2),c.ALo(1,"async")),2&e){var n=c.oxw();c.Q6J("ngIf",c.lcZ(1,1,n.store.entities$))}}function ze(e,t){}function Ie(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",25),c.NdJ("swipeleft",function(e){return c.CHM(n),c.oxw().swipe(e.type)})("swiperight",function(e){return c.CHM(n),c.oxw().swipe(e.type)})("swipeup",function(e){return c.CHM(n),c.oxw().swipe(e.type)})("swipedown",function(e){return c.CHM(n),c.oxw().swipe(e.type)}),c.YNc(1,ze,0,0,"ng-template",26),c.qZA()}if(2&e){c.oxw();var o=c.MAs(1);c.xp6(1),c.Q6J("ngTemplateOutlet",o)}}var De=function(){function e(t,n,o,a){i(this,e),this.mediaService=t,this.languageService=n,this.storageState=o,this.queryState=a,this._opened=!0,this.hasFeatureEmphasisOnSelection=!1,this._zoomAuto=!1,this._fullExtent=!1,this.fullExtent$=new Y.X(this.fullExtent),this.isHtmlDisplay=!1,this.iconResizeWindows="",this.icon="menu",this.actionStore=new h.Dn([]),this.actionbarMode=h.rO.Overlay,this.multiple$=new Y.X(!1),this.isResultSelected$=new Y.X(!1),this.isSelectedResultOutOfView$=new Y.X(!1),this.initialized=!0,this.format=new ce.Z,this.focusedResult$=new Y.X(void 0),this.withZoomButton=!0,this.zoomAuto$=new Y.X(!1),this.openedChange=new c.vpe,this.fullExtentEvent=new c.vpe,this.windowHtmlDisplayEvent=new c.vpe,this.resultSelected$=new Y.X(void 0),this.opened=this.storageService.get("toastOpened"),this.zoomAuto=this.storageService.get("zoomAuto"),this.fullExtent=this.storageService.get("fullExtent"),this.setResizeWindowIcon()}return r(e,[{key:"storageService",get:function(){return this.storageState.storageService}},{key:"map",get:function(){return this._map},set:function(e){this._map=e}},{key:"store",get:function(){return this._store},set:function(e){var t=this;this._store=e,this.store.entities$.subscribe(function(e){t.unselectResult()})}},{key:"opened",get:function(){return this._opened},set:function(e){e===!this._opened&&(this._opened=e,this.storageService.set("toastOpened",e,u.fO.SESSION),this.openedChange.emit(e))}},{key:"zoomAuto",get:function(){return this._zoomAuto},set:function(e){e===!this._zoomAuto&&(this._zoomAuto=e,this.zoomAuto$.next(e),this.storageService.set("zoomAuto",e))}},{key:"fullExtent",get:function(){return this._fullExtent},set:function(e){e===!this._fullExtent&&(this._fullExtent=e,this.fullExtent$.next(e),this.fullExtentEvent.emit(e),this.storageService.set("fullExtent",e))}},{key:"getClassPanel",value:function(){return{"app-toast-panel-opened":this.opened&&!this.fullExtent&&!this.isHtmlDisplay,"app-full-toast-panel-opened":this.opened&&this.fullExtent&&!this.isHtmlDisplay,"app-toast-panel-html":this.opened&&!this.fullExtent&&this.resultSelected$.value&&this.isHtmlDisplay,"app-toast-panel-html-large":this.opened&&this.fullExtent&&this.resultSelected$.value&&this.isHtmlDisplay,"app-toast-panel-collapsed":!this.opened&&!this.fullExtent&&!this.isHtmlDisplay,"app-full-toast-panel-collapsed":!this.opened&&this.fullExtent&&!this.isHtmlDisplay,"app-toast-panel-html-collapsed":!this.opened&&this.isHtmlDisplay}}},{key:"displayStyle",get:function(){return this.results.length?(1===this.results.length&&this.initialized&&this.selectResult(this.results[0]),"visible"):"hidden"}},{key:"onEscapeHandler",value:function(e){this.clear()}},{key:"onBackHandler",value:function(e){this.unselectResult()}},{key:"onZoomHandler",value:function(e){if(!0===this.isResultSelected$.getValue()){var t=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,m.ybU)(this.map,[t],m.bAZ.Default)}}},{key:"results",get:function(){return this.store.all()}},{key:"multiple",get:function(){return this.results.length?this.multiple$.next(!0):this.multiple$.next(!1),this.multiple$}},{key:"monitorResultOutOfView",value:function(){var e=this;this.isSelectedResultOutOfView$$=(0,N.aj)([this.map.viewController.state$,this.resultSelected$]).pipe((0,x.b)(100)).subscribe(function(t){var n=t[1];if(n){var o=(0,m.zMd)(n.data,e.map.projection),a=(0,m.HgW)(e.map,[o]);e.isSelectedResultOutOfView$.next((0,m.brJ)(e.map,a))}else e.isSelectedResultOutOfView$.next(!1)})}},{key:"ngOnInit",value:function(){var e,t,o=this;this.store.entities$.subscribe(function(){o.initialized=!0}),this.monitorResultOutOfView(),this.hasFeatureEmphasisOnSelection&&(this.resultOrResolution$$=(0,N.aj)([this.focusedResult$.pipe((0,Me.b)(function(n){e=n,t="focused"})),this.resultSelected$.pipe((0,Me.b)(function(n){e=n,t="selected"})),this.map.viewController.resolution$,this.store.entities$]).subscribe(function(){return o.buildResultEmphasis(e,t)})),this.storageChange$$=this.storageService.storageChange$.pipe((0,K.n)(function(e){return"zoomAuto"!==e.key})).subscribe(function(e){o.zoomAuto=e.currentValue}),this.actionStore.load([{id:"list",title:this.languageService.translate.instant("toastPanel.backToList"),icon:"format-list-bulleted-square",tooltip:this.languageService.translate.instant("toastPanel.listButton"),display:function(){return o.isResultSelected$},handler:function(){o.unselectResult()}},{id:"zoomFeature",title:this.languageService.translate.instant("toastPanel.zoomOnFeature"),icon:"magnify-plus-outline",tooltip:this.languageService.translate.instant("toastPanel.zoomOnFeatureTooltip"),display:function(){return o.isResultSelected$},handler:function(){var e=o.format.readFeature(o.resultSelected$.getValue().data,{dataProjection:o.resultSelected$.getValue().data.projection,featureProjection:o.map.projection});(0,m.ybU)(o.map,[e],m.bAZ.Zoom)}},{id:"zoomResults",title:this.languageService.translate.instant("toastPanel.zoomOnFeatures"),tooltip:this.languageService.translate.instant("toastPanel.zoomOnFeaturesTooltip"),icon:"magnify-scan",availability:function(){return o.multiple},handler:function(){var e,t=[],a=n(o.store.all());try{for(a.s();!(e=a.n()).done;){var i=e.value,s=o.format.readFeature(i.data,{dataProjection:i.data.projection,featureProjection:o.map.projection});t.push(s)}}catch(r){a.e(r)}finally{a.f()}(0,m.ybU)(o.map,t,m.bAZ.Zoom)}},{id:"zoomAuto",title:this.languageService.translate.instant("toastPanel.zoomAuto"),tooltip:this.languageService.translate.instant("toastPanel.zoomAutoTooltip"),checkbox:!0,checkCondition:this.zoomAuto$,handler:function(){o.zoomAuto=!o.zoomAuto,o.zoomAuto&&!0===o.isResultSelected$.value&&o.selectResult(o.resultSelected$.getValue())}},{id:"fullExtent",title:this.languageService.translate.instant("toastPanel.fullExtent"),tooltip:this.languageService.translate.instant("toastPanel.fullExtentTooltip"),icon:"arrow-expand",display:function(){return o.fullExtent$.pipe((0,Q.U)(function(e){return!e&&!o.isDesktop()}))},handler:function(){o.fullExtent=!0}},{id:"standardExtent",title:this.languageService.translate.instant("toastPanel.standardExtent"),tooltip:this.languageService.translate.instant("toastPanel.standardExtentTooltip"),icon:"arrow-collapse",display:function(){return o.fullExtent$.pipe((0,Q.U)(function(e){return e&&!o.isDesktop()}))},handler:function(){o.fullExtent=!1}}])}},{key:"ngOnDestroy",value:function(){this.resultOrResolution$$&&this.resultOrResolution$$.unsubscribe(),this.isSelectedResultOutOfView$$&&this.isSelectedResultOutOfView$$.unsubscribe(),this.storageChange$$&&this.storageChange$$.unsubscribe()}},{key:"buildResultEmphasis",value:function(e,t){if(this.clearFeatureEmphasis(),e&&("selected"!==t||!this.zoomAuto)){var n=(0,m.zMd)(e.data,this.map.projection).getGeometry();if((0,m.fle)(this.map,n.getExtent(),.0025)){var o=n.getExtent(),a=o[0]+(o[2]-o[0])/2,i=o[1]+(o[3]-o[1])/2,s=new _e.Z({name:"abstractFocusedOrSelectedResult",geometry:new Te.Z([a,i])});this.abstractFocusedOrSelectedResult=(0,m.ve2)(s,this.map.projection),this.abstractFocusedOrSelectedResult.meta.style=(0,m.DQ6)(Object.assign({},{feature:this.abstractFocusedOrSelectedResult},"selected"===t?this.queryState.queryOverlayStyleSelection:this.queryState.queryOverlayStyleFocus)),this.abstractFocusedOrSelectedResult.meta.style.setZIndex(2e3),this.map.queryResultsOverlay.addFeature(this.abstractFocusedOrSelectedResult,m.bAZ.None)}}}},{key:"clearFeatureEmphasis",value:function(){this.abstractFocusedOrSelectedResult&&(this.map.queryResultsOverlay.removeFeature(this.abstractFocusedOrSelectedResult),this.abstractFocusedOrSelectedResult=void 0)}},{key:"getTitle",value:function(e){return(0,h.TF)(e)}},{key:"focusResult",value:function(e){this.focusedResult$.next(e),this.map.queryResultsOverlay.removeFeature(e.data),e.data.meta.style=(0,m.DQ6)(Object.assign({},{feature:e.data},this.queryState.queryOverlayStyleFocus)),e.data.meta.style.setZIndex(2e3),this.map.queryResultsOverlay.addFeature(e.data,m.bAZ.None)}},{key:"unfocusResult",value:function(e,t){this.focusedResult$.next(void 0),(t||!this.store.state.get(e).focused)&&(this.map.queryResultsOverlay.removeFeature(e.data),e.data.meta.style=(0,m.eU6)(Object.assign({},{feature:e.data},this.queryState.queryOverlayStyle)),e.data.meta.style.setZIndex(void 0),this.map.queryResultsOverlay.addFeature(e.data,m.bAZ.None))}},{key:"selectResult",value:function(e){this.store.state.update(e,{focused:!0,selected:!0},!0),this.resultSelected$.next(e),e.data.properties&&"iframe"===e.data.properties.target?this.setHtmlDisplay(!0):this.setHtmlDisplay(!1);var t,o=[],a=n(this.store.all());try{for(a.s();!(t=a.n()).done;){var i=t.value;i.meta.id===e.meta.id?(i.data.meta.style=(0,m.DQ6)(Object.assign({},{feature:i.data},this.queryState.queryOverlayStyleSelection)),i.data.meta.style.setZIndex(2e3)):i.data.meta.style=(0,m.eU6)(Object.assign({},{feature:i.data},this.queryState.queryOverlayStyle)),o.push(i.data)}}catch(r){a.e(r)}finally{a.f()}if(this.map.queryResultsOverlay.removeFeatures(o),this.map.queryResultsOverlay.addFeatures(o,m.bAZ.None),this.zoomAuto){var s=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,m.ybU)(this.map,[s],m.bAZ.Default)}this.isResultSelected$.next(!0),this.initialized=!1}},{key:"unselectResult",value:function(){this.resultSelected$.next(void 0),this.isResultSelected$.next(!1),this.setHtmlDisplay(!1),this.store.state.clear();var e,t=[],o=n(this.store.all());try{for(o.s();!(e=o.n()).done;){var a=e.value;a.data.meta.style=(0,m.eU6)(Object.assign({},{feature:a.data},this.queryState.queryOverlayStyle)),t.push(a.data)}}catch(i){o.e(i)}finally{o.f()}this.map.queryResultsOverlay.setFeatures(t,m.bAZ.None,"map")}},{key:"clear",value:function(){this.clearFeatureEmphasis(),this.map.queryResultsOverlay.clear(),this.store.clear(),this.unselectResult(),this.setHtmlDisplay(!1)}},{key:"isMobile",value:function(){return this.mediaService.getMedia()===u.pU.Mobile}},{key:"isDesktop",value:function(){return this.mediaService.isDesktop()}},{key:"handleKeyboardEvent",value:function(e){37===e.keyCode?this.previousResult():39===e.keyCode&&this.nextResult()}},{key:"previousResult",value:function(){if(this.resultSelected$.value){var e=this.results.indexOf(this.resultSelected$.value),t=this.results[--e];t&&this.selectResult(t)}}},{key:"nextResult",value:function(){if(this.resultSelected$.value){var e=this.results.indexOf(this.resultSelected$.value),t=this.results[++e];t&&this.selectResult(t)}}},{key:"zoomTo",value:function(){var e=this.format.readFeature(this.resultSelected$.getValue().data,{dataProjection:this.resultSelected$.getValue().data.projection,featureProjection:this.map.projection});(0,m.ybU)(this.map,[e],m.bAZ.Zoom)}},{key:"swipe",value:function(t){t===e.SWIPE_ACTION.RIGHT?this.previousResult():t===e.SWIPE_ACTION.LEFT?this.nextResult():t===e.SWIPE_ACTION.UP?this.opened=!0:t===e.SWIPE_ACTION.DOWN&&(this.opened=!1)}},{key:"onToggleClick",value:function(e){"igo-panel-title"===e.target.className&&(this.opened=!this.opened)}},{key:"onTriggerAction",value:function(e){var n=e.args||[];e.handler.apply(e,t(n))}},{key:"setHtmlDisplay",value:function(e){!0===e?(this.isHtmlDisplay=!0,this.windowHtmlDisplayEvent.emit(!0)):(this.isHtmlDisplay=!1,this.windowHtmlDisplayEvent.emit(!1))}},{key:"isHtmlAndDesktop",value:function(){return!(!this.isHtmlDisplay||!this.isDesktop())}},{key:"setResizeWindowIcon",value:function(){this.fullExtent?this.iconResizeWindows="arrow-collapse":this.iconResizeWindows="arrow-expand"}},{key:"resizeWindows",value:function(){this.storageService.set("fullExtent",!this.fullExtent),this.fullExtent?this.reduceWindow():this.enlargeWindows()}},{key:"reduceWindow",value:function(){this.fullExtent=!1,this.setResizeWindowIcon()}},{key:"enlargeWindows",value:function(){this.fullExtent=!0,this.setResizeWindowIcon()}}]),e}();De.SWIPE_ACTION={RIGHT:"swiperight",LEFT:"swipeleft",UP:"swipeup",DOWN:"swipedown"},De.\u0275fac=function(e){return new(e||De)(c.Y36(u.yJ),c.Y36(u.TS),c.Y36(E.I2),c.Y36(E.Tb))},De.\u0275cmp=c.Xpm({type:De,selectors:[["app-toast-panel"]],hostVars:2,hostBindings:function(e,t){1&e&&c.NdJ("keydown.escape",function(e){return t.onEscapeHandler(e)},!1,c.evT)("keydown.backspace",function(e){return t.onBackHandler(e)},!1,c.evT)("keydown.z",function(e){return t.onZoomHandler(e)},!1,c.evT),2&e&&c.Udp("visibility",t.displayStyle)},inputs:{map:"map",store:"store",opened:"opened",hasFeatureEmphasisOnSelection:"hasFeatureEmphasisOnSelection"},outputs:{openedChange:"openedChange",fullExtentEvent:"fullExtentEvent",windowHtmlDisplayEvent:"windowHtmlDisplayEvent"},decls:3,vars:2,consts:[["toast",""],["class","swipe-fix",3,"swipeleft","swiperight","swipeup","swipedown",4,"ngIf","ngIfElse"],["tabindex","0",3,"ngClass","title","click","keydown",4,"ngIf"],["tabindex","0",3,"ngClass","title","click","keydown"],["id","igo-actionbar","panelLeftButton","",3,"store","withIcon","icon","withTitle","horizontal","mode"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelRightButton","",3,"click"],["svgIcon","close"],[1,"toast-content"],["content",""],[3,"feature","htmlDisplayEvent",4,"ngIf"],[3,"map","store","showIcons","withZoomButton","resultFocus","resultUnfocus","resultSelect",4,"ngIf"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"matTooltip","click"],["matBadgeColor","accent","matBadgeSize","small","svgIcon","magnify-plus-outline",3,"matBadge","matBadgeHidden"],["mat-icon-button","","igoStopPropagation","","panelLeftButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click"],["svgIcon","chevron-left"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"disabled","matTooltip","click"],["svgIcon","chevron-right"],["mat-icon-button","","igoStopPropagation","","panelRightButton","","matTooltipShowDelay","500",3,"matTooltip","click"],[3,"svgIcon"],[3,"feature","htmlDisplayEvent"],[3,"map","store","showIcons","withZoomButton","resultFocus","resultUnfocus","resultSelect"],[1,"swipe-fix",3,"swipeleft","swiperight","swipeup","swipedown"],[3,"ngTemplateOutlet"]],template:function(e,t){if(1&e&&(c.YNc(0,Re,2,3,"ng-template",null,0,c.W1O),c.YNc(2,Ie,2,1,"div",1)),2&e){var n=c.MAs(1);c.xp6(2),c.Q6J("ngIf",t.isMobile())("ngIfElse",n)}},directives:[C.O5,h.yX,C.mk,h.nv,O.lW,h._u,k.Hw,M.gM,Z.k,m.C6c,m.GYD,C.tP],pipes:[C.Ov,se.X$],styles:["[_nghost-%COMP%]{-o-box-shadow:0px 0px 2px 0px #dddddd;box-shadow:0 0 2px #ddd}[_nghost-%COMP%]{background-color:#fff;transition:height .28s cubic-bezier(.4,0,.2,1);padding:5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){[_nghost-%COMP%]{width:100%;min-width:100%}}.app-toast-panel-html[_ngcontent-%COMP%]{height:30vh;max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content;width:60vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-html[_ngcontent-%COMP%]{width:100%;min-width:100%;height:34vh}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-html[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-html-large[_ngcontent-%COMP%]{height:55vh;width:60vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-html-large[_ngcontent-%COMP%]{width:100%;min-width:100%;max-height:65vh;height:55vh}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-html-large[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-html-large[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{height:100%;width:100%}.app-toast-panel-opened[_ngcontent-%COMP%]{height:auto;max-height:30vh;width:42vw;max-width:600px;margin-bottom:7px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-opened[_ngcontent-%COMP%]{max-height:34vh;width:100%;min-width:100%}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-opened[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-opened[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{height:100%;width:100%;max-height:calc(30vh - 34px)}.app-full-toast-panel-opened[_ngcontent-%COMP%]{height:auto;max-height:65vh;width:45vw}.app-full-toast-panel-opened[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{height:100%;width:100%;max-height:calc(65vh - 41px)}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-full-toast-panel-opened[_ngcontent-%COMP%]{width:500px;max-height:500px}.app-full-toast-panel-opened[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{max-height:calc(65vh - 21vh)}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-full-toast-panel-opened[_ngcontent-%COMP%]{width:100%;min-width:100%;max-height:65vh}}.app-toast-panel-collapsed[_ngcontent-%COMP%]{height:46px!important;width:42vw;max-width:600px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-collapsed[_ngcontent-%COMP%]{width:100%;min-width:100%;height:35px!important}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-collapsed[_ngcontent-%COMP%]{width:500px}}.app-full-toast-panel-collapsed[_ngcontent-%COMP%]{height:46px!important;width:45vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-full-toast-panel-collapsed[_ngcontent-%COMP%]{width:100%;min-width:100%;height:35px!important}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-full-toast-panel-collapsed[_ngcontent-%COMP%]{width:500px}}.app-toast-panel-html-collapsed[_ngcontent-%COMP%]{height:46px!important;width:60vw}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.app-toast-panel-html-collapsed[_ngcontent-%COMP%]{width:100%;min-width:100%;height:35px!important}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){.app-toast-panel-html-collapsed[_ngcontent-%COMP%]{width:500px}}igo-panel[_ngcontent-%COMP%]     .igo-panel-header:hover{cursor:pointer}igo-panel[_ngcontent-%COMP%]{height:100%;outline:none}igo-panel[_ngcontent-%COMP%]     h3{display:flex}igo-panel[_ngcontent-%COMP%]     .igo-panel-title{flex-grow:2;margin:0}igo-panel[_ngcontent-%COMP%]     .igo-panel-header   [panelleftbutton], igo-panel[_ngcontent-%COMP%]     .igo-panel-header   [panelrightbutton]{margin:0}igo-panel[_ngcontent-%COMP%]     .igo-panel-content{-webkit-user-select:auto!important;-moz-user-select:auto!important;-ms-user-select:auto!important;user-select:auto!important}igo-feature-details[_ngcontent-%COMP%]     iframe{min-height:24vh}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-feature-details[_ngcontent-%COMP%]     iframe{min-height:30vh}}host.app-full-toast-panel-opened[_ngcontent-%COMP%]   igo-feature-details[_ngcontent-fiq-c23][_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{min-height:450px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){host.app-full-toast-panel-opened[_ngcontent-%COMP%]   igo-feature-details[_ngcontent-fiq-c23][_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{min-height:350px}}.swipe-fix[_ngcontent-%COMP%]{touch-action:pinch-zoom!important}igo-actionbar[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0});var Le=["mapBrowser"],qe=["searchBar"];function We(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-menu-button",22),c.NdJ("openSidenav",function(){return c.CHM(n),c.oxw().onToggleSidenavClick()}),c.qZA()}if(2&e){var o=c.oxw();c.Q6J("sidenavOpened",o.sidenavOpened)}}function Je(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-search-bar",23,24),c.NdJ("searchTermChange",function(e){return c.CHM(n),c.oxw().onSearchTermChange(e)})("pointerSummaryStatus",function(e){return c.CHM(n),c.oxw().onPointerSummaryStatusChange(e)})("searchResultsGeometryStatus",function(e){return c.CHM(n),c.oxw().onSearchResultsGeometryStatusChange(e)})("search",function(e){return c.CHM(n),c.oxw().onSearch(e)})("clearFeature",function(){return c.CHM(n),c.oxw().onClearSearch()})("searchSettingsChange",function(){return c.CHM(n),c.oxw().onSearchSettingsChange()}),c.qZA()}if(2&e){var o=c.oxw();c.Q6J("term",o.searchBarTerm)("termSplitter",o.termSplitter)("minLength",o.minSearchTermLength)("searchSettings",!0)("forceNA",o.forceCoordsNA)("store",o.searchStore)("pointerSummaryEnabled",o.igoSearchPointerSummaryEnabled)("searchResultsGeometryEnabled",o.searchResultsGeometryEnabled)}}function Qe(e,t){if(1&e&&c._UZ(0,"igo-geolocate-button",8),2&e){var n=c.oxw();c.Q6J("map",n.map)("@controlsOffsetY",n.getControlsOffsetY())("@mobileOffsetY",n.getToastPanelStatus())}}function He(e,t){if(1&e&&c._UZ(0,"igo-home-extent-button",25),2&e){var n=c.oxw();c.Q6J("map",n.map)("extentOverride",n.homeExtent)("centerOverride",n.homeCenter)("zoomOverride",n.homeZoom)}}function Ye(e,t){if(1&e&&c._UZ(0,"igo-user-button",8),2&e){var n=c.oxw();c.Q6J("map",n.map)("@controlsOffsetY",n.getControlsOffsetY())("@mobileOffsetY",n.getToastPanelStatus())}}function Ne(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",36),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().ngIf;return c.oxw(2).addFeature(e)}),c.ALo(1,"translate"),c._UZ(2,"mat-icon",37),c.qZA()}2&e&&c.Q6J("matTooltip",c.lcZ(1,1,"workspace.addFeature"))}function Ue(e,t){if(1&e&&c._UZ(0,"igo-actionbar",38),2&e){var n=c.oxw().ngIf,o=c.oxw(2);c.Q6J("store",n.actionStore)("withIcon",!0)("withTitle",o.actionbarWithTitle)("horizontal",!0)("withToggleButton","overlay"===o.actionbarMode)("iconColor","primary")("color","primary")("mode",o.actionbarMode)("overlayClass",o.workspaceMenuClass)}}function Ve(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-entity-table-paginator",39),c.NdJ("paginatorChange",function(e){return c.CHM(n),c.oxw(3).paginatorChange(e)}),c.qZA()}if(2&e){var o=c.oxw().ngIf,a=c.oxw(2);c.Q6J("store",o.entityStore)("entitySortChange$",a.workspaceEntitySortChange$)("paginatorOptions",a.paginatorOptions)}}var Xe=function(e){return{disabled:e}};function Ge(e,t){if(1&e){var n=c.EpF();c.ynx(0),c.TgZ(1,"button",30),c.NdJ("click",function(){var e=c.CHM(n).ngIf;return e.layer.visible=!e.layer.visible}),c.ALo(2,"translate"),c.ALo(3,"translate"),c._UZ(4,"mat-icon",31),c.ALo(5,"async"),c.qZA(),c.YNc(6,Ne,3,3,"button",32),c.YNc(7,Ue,1,9,"igo-actionbar",33),c._UZ(8,"div",34),c.YNc(9,Ve,1,3,"igo-entity-table-paginator",35),c.BQk()}if(2&e){var o=t.ngIf,a=c.oxw(2);c.xp6(1),c.Q6J("color",o.layer.visible?"primary":"default")("matTooltip",o.layer.visible?c.lcZ(2,7,"igo.geo.layer.hideLayer"):c.lcZ(3,9,"igo.geo.layer.showLayer")),c.xp6(3),c.Q6J("ngClass",c.VKq(13,Xe,!0!==c.lcZ(5,11,o.inResolutionRange$)))("svgIcon",o.layer.visible?"eye":"eye-off"),c.xp6(2),c.Q6J("ngIf",a.isEditionWorkspace(o)),c.xp6(1),c.Q6J("ngIf",o.actionStore),c.xp6(2),c.Q6J("ngIf",a.workspaceVisibility())}}function Ke(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-entity-table",42),c.NdJ("entitySortChange",function(){return c.CHM(n),c.oxw(3).entitySortChange()})("entitySelectChange",function(e){return c.CHM(n),c.oxw(3).entitySelectChange(e)}),c.qZA()}if(2&e){var o=c.oxw().ngIf,a=c.oxw(2);c.Tol(a.isEditionWorkspace(o)?"edition-table":""),c.Q6J("paginator",a.workspacePaginator)("store",o.entityStore)("template",o.meta.tableTemplate)}}function et(e,t){if(1&e&&(c.ynx(0),c.YNc(1,Ke,1,5,"igo-entity-table",40),c.TgZ(2,"span",41),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.BQk()),2&e){var n=t.ngIf,o=c.oxw(2);c.xp6(1),c.Q6J("ngIf",n.entityStore&&n.meta&&n.meta.tableTemplate&&o.workspaceVisibility()),c.xp6(2),c.Oqu(c.lcZ(4,2,o.workspaceNotAvailableMessage))}}function tt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-expansion-panel",26),c.NdJ("expandedChange",function(e){return c.CHM(n),c.oxw().expansionPanelExpanded=e}),c.ALo(1,"async"),c.ynx(2,27),c.TgZ(3,"igo-workspace-selector",28),c.NdJ("toolToActivate",function(e){return c.CHM(n),c.oxw().toolToActivateFromWorkspace(e)})("changeWorkspace",function(e){return c.CHM(n),c.oxw().workspaceState.setActiveWorkspaceByTitle(e)})("disableSwitch",function(e){return c.CHM(n),c.oxw().workspaceSwitchDisabled=e})("relationLayers",function(e){return c.CHM(n),c.oxw().refreshRelationsWorkspace(e)})("rowsInMapExtentCheckCondition",function(e){return c.CHM(n),c.oxw().workspaceState.rowsInMapExtentCheckCondition$.next(e)}),c.qZA(),c.YNc(4,Ge,10,15,"ng-container",29),c.ALo(5,"async"),c.BQk(),c.YNc(6,et,5,4,"ng-container",29),c.ALo(7,"async"),c.qZA()}if(2&e){var o=c.oxw();c.Q6J("backdropShown",o.expansionPanelBackdropShown)("expanded",o.expansionPanelExpanded)("maximized",c.lcZ(1,10,o.workspaceMaximize$))("@expansionPanelSize",o.getExpansionPanelStatus())("@toastOffsetY",o.isMobile()&&!o.toastPanelOpened&&o.queryState.store.entities$.value.length>0&&!o.expansionPanelExpanded?"true":"false"),c.xp6(3),c.Q6J("store",o.workspaceStore)("disabled",o.workspaceSwitchDisabled)("map",o.map),c.xp6(1),c.Q6J("ngIf",c.lcZ(5,12,o.selectedWorkspace$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(7,14,o.selectedWorkspace$))}}function nt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"igo-workspace-widget-outlet",43),c.NdJ("deactivateWidget",function(){return c.CHM(n),c.oxw().onDeactivateWorkspaceWidget()}),c.qZA()}if(2&e){var o=t.ngIf;c.Q6J("workspace",o)}}function ot(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-toast-panel",44),c.NdJ("openedChange",function(e){return c.CHM(n),c.oxw().toastOpenedChange(e)})("fullExtentEvent",function(e){return c.CHM(n),c.oxw().fullExtent=e})("windowHtmlDisplayEvent",function(e){return c.CHM(n),c.oxw().setToastPanelHtmlDisplay(e)}),c.ALo(1,"async"),c.qZA()}if(2&e){var o=c.oxw();c.Q6J("map",o.map)("store",o.queryStore)("hasFeatureEmphasisOnSelection",o.hasFeatureEmphasisOnSelection)("@toastPanelOffsetX",c.lcZ(1,7,o.toastPanelOffsetX$))("@toastPanelOffsetY",o.getToastPanelOffsetY())("@toastPanelMobileSidenav",o.isMobile()&&o.sidenavOpened||o.isTablet()&&o.isPortrait()&&o.sidenavOpened)("opened",o.toastPanelOpened)}}function at(e,t){if(1&e&&c._UZ(0,"igo-actionbar",45),2&e){var n=c.oxw();c.Q6J("store",n.contextMenuStore)("withIcon",!1)("horizontal",!0)}}var it=function(){return["json","geojson","kml","gpx"]},st=function(e){return{"igo-attribution-offset":e}},rt=function(){function t(e,n,o,a,s,r,l,c,p,d,u,g,m,f,x,v,y,w,S,b,C,O,k,P,M,_,T,E){i(this,t),this.route=e,this.workspaceState=n,this.authService=o,this.mediaService=a,this.layerService=s,this.dataSourceService=r,this.cdRef=l,this.capabilitiesService=c,this.contextState=p,this.mapState=d,this.searchState=u,this.queryState=g,this.toolState=m,this.searchSourceService=f,this.configService=x,this.importService=v,this.http=y,this.languageService=w,this.messageService=S,this.welcomeWindowService=b,this.dialogWindow=C,this.queryService=O,this.storageService=k,this.editionWorkspaceService=P,this.directionState=M,this.mapRtssProximityState=_,this.mapProximityState=T,this.geoDBService=E,this.infoContent=void 0,this.toastPanelOffsetX$=new Y.X(void 0),this.sidenavOpened$=new Y.X(!1),this.minSearchTermLength=2,this.hasExpansionPanel=!1,this.hasGeolocateButton=!0,this.hasHomeExtentButton=!1,this.showMenuButton=!0,this.showSearchBar=!0,this.showRotationButtonIfNoRotation=!1,this.hasFeatureEmphasisOnSelection=!1,this.workspaceNotAvailableMessage="workspace.disabled.resolution",this.workspaceEntitySortChange$=new Y.X(!1),this.workspaceSwitchDisabled=!1,this.paginatorOptions={pageSize:50,pageSizeOptions:[1,5,10,20,50,100,500]},this.workspaceMenuClass="workspace-menu",this.fullExtent=this.storageService.get("fullExtent"),this.workspaceMaximize$$=[],this.workspaceMaximize$=new Y.X(this.storageService.get("workspaceMaximize")),this.matDialogRef$=new Y.X(void 0),this.searchBarTerm="",this.onSettingsChange$=new Y.X(void 0),this.termDefinedInUrl=!1,this.termSplitter="|",this.termDefinedInUrlTriggered=!1,this.addedLayers$$=[],this.forceCoordsNA=!1,this.contextMenuStore=new h.Dn([]),this.contextLoaded=!1,this.toastPanelForExpansionOpened=!0,this.showToastPanelForExpansionToggle=!1,this.selectedWorkspace$=new Y.X(void 0),this.toastPanelHtmlDisplay=!1,this._toastPanelOpened=!1!==this.storageService.get("toastOpened"),this.hasExpansionPanel=this.configService.getConfig("hasExpansionPanel"),this.hasHomeExtentButton=void 0!==this.configService.getConfig("homeExtentButton"),this.hasGeolocateButton=void 0===this.configService.getConfig("hasGeolocateButton")||this.configService.getConfig("hasGeolocateButton"),this.showRotationButtonIfNoRotation=void 0!==this.configService.getConfig("showRotationButtonIfNoRotation")&&this.configService.getConfig("showRotationButtonIfNoRotation"),this.showMenuButton=void 0===this.configService.getConfig("showMenuButton")||this.configService.getConfig("showMenuButton"),this.showSearchBar=void 0===this.configService.getConfig("showSearchBar")||this.configService.getConfig("showSearchBar"),this.forceCoordsNA=this.configService.getConfig("app.forceCoordsNA"),this.hasFeatureEmphasisOnSelection=this.configService.getConfig("hasFeatureEmphasisOnSelection"),this.igoSearchPointerSummaryEnabled=this.configService.getConfig("hasSearchPointerSummary"),void 0===this.igoSearchPointerSummaryEnabled&&(this.igoSearchPointerSummaryEnabled=this.storageService.get("searchPointerSummaryEnabled")||!1)}return r(t,[{key:"map",get:function(){return this.mapState.map}},{key:"sidenavOpened",get:function(){return this.sidenavOpened$.value},set:function(e){this.sidenavOpened$.next(e)}},{key:"auth",get:function(){return this.configService.getConfig("auth")||[]}},{key:"toastPanelOpened",get:function(){return this._toastPanelOpened},set:function(e){e===!this._toastPanelOpened&&(this._toastPanelOpened=e,this.cdRef.detectChanges())}},{key:"isMobile",value:function(){return this.mediaService.getMedia()===u.pU.Mobile}},{key:"isTablet",value:function(){return this.mediaService.getMedia()===u.pU.Tablet}},{key:"isLandscape",value:function(){return this.mediaService.getOrientation()===u.pC.Landscape}},{key:"isPortrait",value:function(){return this.mediaService.getOrientation()===u.pC.Portrait}},{key:"backdropShown",get:function(){return(this.isMobile()||this.isTablet()&&this.isPortrait())&&this.sidenavOpened}},{key:"expansionPanelExpanded",get:function(){return this.workspaceState.workspacePanelExpanded},set:function(e){this.workspaceState.workspacePanelExpanded=e}},{key:"toastPanelShown",get:function(){return!0}},{key:"expansionPanelBackdropShown",get:function(){return this.expansionPanelExpanded&&this.toastPanelForExpansionOpened}},{key:"actionbarMode",get:function(){return h.rO.Overlay}},{key:"actionbarWithTitle",get:function(){return this.actionbarMode===h.rO.Overlay}},{key:"searchStore",get:function(){return this.searchState.store}},{key:"searchResultsGeometryEnabled",get:function(){return this.searchState.searchResultsGeometryEnabled$.value}},{key:"queryStore",get:function(){return this.queryState.store}},{key:"toolbox",get:function(){return this.toolState.toolbox}},{key:"toastPanelContent",get:function(){var e;return void 0!==this.workspace&&this.workspace.hasWidget&&(e="workspace"),e}},{key:"workspaceStore",get:function(){return this.workspaceState.store}},{key:"workspace",get:function(){return this.workspaceState.workspace$.value}},{key:"ngOnInit",value:function(){var t=this;window.IGO=this,this.searchState.searchTermSplitter$.next(this.termSplitter),this.initWelcomeWindow(),this.authService.authenticate$.subscribe(function(e){t.contextLoaded=!1}),this.context$$=this.contextState.context$.subscribe(function(e){return t.onChangeContext(e)}),this.contextMenuStore.load([{id:"coordinates",title:"coordinates",handler:function(){return t.searchCoordinate(t.contextMenuCoord)}},{id:"googleMaps",title:"googleMap",handler:function(){return t.openGoogleMaps(t.contextMenuCoord)}},{id:"googleStreetView",title:"googleStreetView",handler:function(){return t.openGoogleStreetView(t.contextMenuCoord)}}]),this.queryStore.count$.pipe((0,V.G)()).subscribe(function(n){var o=e(n,2),a=o[0],i=o[1];t.map.viewController.padding[2]=i?280:0,0===a&&i!==a&&t.isMobile()&&t.hasExpansionPanel&&t.expansionPanelExpanded&&t.toastPanelOpened&&(t.toastPanelOpened=!1)}),this.map.ol.once("rendercomplete",function(){t.readQueryParams()}),this.onSettingsChange$.subscribe(function(){t.searchState.setSearchSettingsChange()}),this.searchState.selectedResult$.subscribe(function(e){e&&t.isMobile()&&t.closeSidenav()}),this.workspaceState.workspaceEnabled$.next(this.hasExpansionPanel),this.workspaceState.store.empty$.subscribe(function(e){!t.hasExpansionPanel||(t.workspaceState.workspaceEnabled$.next(!e),e&&(t.expansionPanelExpanded=!1),t.updateMapBrowserClass())}),this.workspaceMaximize$$.push(this.workspaceState.workspaceMaximize$.subscribe(function(e){t.workspaceMaximize$.next(e),t.updateMapBrowserClass()})),this.workspaceMaximize$$.push(this.workspaceMaximize$.subscribe(function(){return t.updateMapBrowserClass()})),this.workspaceState.workspace$.subscribe(function(e){var n,o,a,i;e?(t.selectedWorkspace$.next(e),t.expansionPanelExpanded=!0,(null===(n=e.layer.options.workspace)||void 0===n?void 0:n.pageSize)&&(null===(o=e.layer.options.workspace)||void 0===o?void 0:o.pageSizeOptions)?t.paginatorOptions={pageSize:null===(a=e.layer.options.workspace)||void 0===a?void 0:a.pageSize,pageSizeOptions:null===(i=e.layer.options.workspace)||void 0===i?void 0:i.pageSizeOptions}:t.paginatorOptions={pageSize:50,pageSizeOptions:[1,5,10,20,50,100,500]}):t.expansionPanelExpanded=!1}),this.activeWidget$$=this.workspaceState.activeWorkspaceWidget$.subscribe(function(e){void 0!==e?(t.openToastPanelForExpansion(),t.showToastPanelForExpansionToggle=!0):(t.closeToastPanelForExpansion(),t.showToastPanelForExpansionToggle=!1)}),this.openSidenav$$=this.toolState.openSidenav$.subscribe(function(e){e&&(t.openSidenav(),t.toolState.openSidenav$.next(!1))}),this.sidenavMediaAndOrientation$$=(0,N.aj)([this.sidenavOpened$,this.mediaService.media$,this.mediaService.orientation$]).pipe((0,x.b)(50)).subscribe(function(e){t.computeToastPanelOffsetX()}),this.initSW(),this.mapRtssProximityState.currentRTSSCh$.subscribe(function(e){if(e){t.mapProximityState.proximityFeatureStore.delete(e),t.mapProximityState.proximityFeatureStore.insert(e);var n=e.properties.num_rts.substring(0,5),o=e.properties.num_rts.substring(5,7),a=e.properties.num_rts.substring(7,10),i=e.properties.num_rts.substring(10,14),s=e.properties.chainage,r=Math.floor(s/1e3),l=t.padWithZero(s%1e3,3);t.infoContent="".concat(n,"-").concat(o,"-").concat(a,"-").concat(i,"\n").concat(r,"+").concat(l,"\n").concat(e.properties.distance," m")}else t.infoContent=void 0}),this.storageService.get("favorite.context.uri")&&this.toolbox.activateTool("map-rtss-proximity")}},{key:"padWithZero",value:function(e,t){return String(e).padStart(t,"0")}},{key:"initSW",value:function(){var e,t,n=this,o=["rtss","gsq","pon","cs","mun"],a=[];(["Aeroportuaire","DGT29","DGT63-65","DGT64-70","DGT66","DGT67","DGT68","DGT71","DGT81-91","DGT86","DGT88","DGT89","DGT90"].map(function(e){o.map(function(t){return a.push("https://ws.mapserver.transports.gouv.qc.ca/donnees/geomatique/sigo-terrain/".concat(e,"/").concat(t,".geojson"))})}),"serviceWorker"in navigator)&&navigator.serviceWorker.ready.then(function(o){console.log("Service Worker Ready"),n.http.get("ngsw.json").pipe((0,X.b)(function(o){var a=[],i=!1;if(o){t=o.appData.version;var s=n.storageService.get("cachedDataVersion");if(t!==s){if(o.assetGroups.map(function(e){"contexts"===e.name&&("data"===e.name&&(i=e.urls.concat(e.files).length>0),e.urls.concat(e.files).filter(function(e){return e}).map(function(e,t){return a.push(n.http.get(e).pipe((0,G.g)(750)))}))}),i){var r=n.languageService.translate.instant("pwa.data-download-start");e=n.messageService.info(r,void 0,{disableTimeOut:!0,progressBar:!1,closeButton:!0,tapToDismiss:!1})}return J.$R.apply(void 0,a)}}return J.$R.apply(void 0,a)}),(0,X.b)(function(t){if(t.length>0&&a.length>0){var o=n.languageService.translate.instant("pwa.data-download-start");e=n.messageService.info(o,void 0,{disableTimeOut:!0,progressBar:!1,closeButton:!0,tapToDismiss:!1});var i=[];return a.map(function(e,t){return i.push(n.http.get(e).pipe((0,X.b)(function(o){return n.geoDBService.update(e,t,o,"system","automatedUpdatePWA")})))}),J.$R.apply(void 0,i)}return(0,U.of)(t)})).pipe((0,G.g)(1e3)).subscribe(function(){if(e){n.messageService.remove(e.toastId);var o=n.languageService.translate.instant("pwa.data-download-completed");n.messageService.success(o,void 0,{timeOut:4e4}),t&&n.storageService.set("cachedDataVersion",t)}})})}},{key:"setToastPanelHtmlDisplay",value:function(e){this.toastPanelHtmlDisplay=e,this.computeToastPanelOffsetX()}},{key:"computeToastPanelOffsetX",value:function(){var e=this;this.isMobile()||!this.isLandscape()?Promise.resolve().then(function(){return e.toastPanelOffsetX$.next(void 0)}):Promise.resolve().then(function(){return e.toastPanelOffsetX$.next(e.getToastPanelExtent())})}},{key:"workspaceVisibility",value:function(){var e=this.selectedWorkspace$.value;return e.inResolutionRange$.value?e.entityStore.empty$.value&&!e.layer.visible?this.workspaceNotAvailableMessage="workspace.disabled.visible":this.workspaceNotAvailableMessage="":this.workspaceNotAvailableMessage="workspace.disabled.resolution",e.inResolutionRange$.value}},{key:"isEditionWorkspace",value:function(e){return e instanceof m.S42}},{key:"addFeature",value:function(e){var t={type:"Feature",properties:{}};t.properties=this.createFeatureProperties(e.layer),this.workspaceState.rowsInMapExtentCheckCondition$.next(!1),e.editFeature(t,e)}},{key:"createFeatureProperties",value:function(e){var t={};return e.options.sourceOptions.sourceFields.forEach(function(e){!e.primary&&e.visible&&(t[e.name]="")}),t}},{key:"paginatorChange",value:function(e){this.workspacePaginator=e}},{key:"entitySortChange",value:function(){this.workspaceEntitySortChange$.next(!0)}},{key:"entitySelectChange",value:function(e){var t=this;this.getQuerySearchSource();var n=[];if((!(this.selectedWorkspace$.value instanceof m.RhL||this.selectedWorkspace$.value instanceof m.RMI)||this.selectedWorkspace$.value.getLayerWksOptionTabQuery())&&e&&e.added){var o=e.added.map(function(e){if(e&&e.ol&&e.ol.getProperties()._featureStore.layer&&e.ol.getProperties()._featureStore.layer.visible){var o=e.ol,a=e.ol.getProperties()._featureStore.layer,i=(0,m.ve2)(o,a.map.projection,a.ol);i.meta.alias=t.queryService.getAllowedFieldsAndAlias(a),i.meta.title=t.queryService.getQueryTitle(i,a)||i.meta.title;var s=n.find(function(e){return e.title===i.meta.sourceTitle});return s||(s=new m.W2O({title:i.meta.sourceTitle}),n.push(s)),(0,m.$LA)(i,s)}});(0,U.of)(o).subscribe(function(e){t.queryStore.load(e)})}}},{key:"ngOnDestroy",value:function(){this.context$$.unsubscribe(),this.activeWidget$$.unsubscribe(),this.openSidenav$$.unsubscribe(),this.workspaceMaximize$$.map(function(e){return e.unsubscribe()}),this.sidenavMediaAndOrientation$$.unsubscribe()}},{key:"cancelOngoingAddLayer",value:function(){this.addedLayers$$.forEach(function(e){return e.unsubscribe()}),this.addedLayers$$=[]}},{key:"onBackdropClick",value:function(){this.closeSidenav()}},{key:"onToggleSidenavClick",value:function(){this.toggleSidenav()}},{key:"onDeactivateWorkspaceWidget",value:function(){this.closeToastPanelForExpansion()}},{key:"closeToastPanelForExpansion",value:function(){this.toastPanelForExpansionOpened=!1}},{key:"openToastPanelForExpansion",value:function(){this.toastPanelForExpansionOpened=!0}},{key:"onMapQuery",value:function(e){var t=this;this.getQuerySearchSource();var n=[],o=e.features.map(function(e){var o=n.find(function(t){return t.title===e.meta.sourceTitle});if(!t.getFeatureIsSameActiveWks(e)||!t.getWksActiveOpenInResolution()||t.workspace.getLayerWksOptionMapQuery())return o||(o=new m.W2O({title:e.meta.sourceTitle}),n.push(o)),(0,m.$LA)(e,o)}).filter(function(e){return void 0!==e});(0,U.of)(o).subscribe(function(e){t.queryStore.load(e)})}},{key:"onSearchTermChange",value:function(e){var t;(null===(t=this.routeParams)||void 0===t?void 0:t.search)&&e!==this.routeParams.search&&this.searchState.deactivateCustomFilterTermStrategy(),this.searchState.setSearchTerm(e),e.replace(/(#[^\s]*)/g,"").trim().length<2?this.onClearSearch():this.onBeforeSearch()}},{key:"onSearch",value:function(e){var t,n=e.results,o=!(0,m.OcM)(e.research.source);t=o?this.searchSourceService.getEnabledSources().filter(m._iF):this.searchSourceService.getEnabledSources().filter(m.OcM);var a=this.searchStore.entities$.value.filter(function(n){return n.source!==e.research.source&&t.includes(n.source)}).concat(n);this.searchStore.updateMany(a)}},{key:"onSearchResultsGeometryStatusChange",value:function(e){this.searchState.setSearchResultsGeometryStatus(e)}},{key:"onSearchSettingsChange",value:function(){this.onSettingsChange$.next(!0)}},{key:"closeSidenav",value:function(){this.sidenavOpened=!1,this.map.viewController.padding[3]=0}},{key:"openSidenav",value:function(){this.sidenavOpened=!0,this.map.viewController.padding[3]=this.isMobile()?0:400}},{key:"toggleSidenav",value:function(){this.sidenavOpened?this.closeSidenav():this.openSidenav(),this.computeToastPanelOffsetX()}},{key:"toolChanged",value:function(e){e&&"searchResults"===e.name&&this.searchBar&&this.searchBar.nativeElement.getElementsByTagName("input")[0].focus()}},{key:"computeHomeExtentValues",value:function(e){var t,n;(null===(n=null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.view)||void 0===n?void 0:n.homeExtent)?(this.homeExtent=e.map.view.homeExtent.extent,this.homeCenter=e.map.view.homeExtent.center,this.homeZoom=e.map.view.homeExtent.zoom):(this.homeExtent=void 0,this.homeCenter=void 0,this.homeZoom=void 0)}},{key:"onChangeContext",value:function(e){var t=this;if(this.cancelOngoingAddLayer(),void 0!==e){if(this.queryState.store.empty||this.queryState.store.softClear(),this.computeHomeExtentValues(e),this.route.queryParams.pipe((0,x.b)(250)).subscribe(function(n){(!n.context||n.context===e.uri)&&t.readLayersQueryParams(n)}),this.contextLoaded){var n=this.toolbox.getTool("contextManager"),o=(n?n.options:{}).toolToOpenOnContextChange;if(!o)for(var a=0,i=["mapTools","map","mapDetails","mapLegend"];a<i.length;a++){var s=i[a];if(this.toolbox.getTool(s)){o=s;break}}o&&this.toolbox.activateTool(o)}this.contextLoaded=!0}}},{key:"onBeforeSearch",value:function(){(!this.toolbox.activeTool$.value||"searchResults"!==this.toolbox.activeTool$.value.name)&&this.toolbox.activateTool("searchResults"),this.openSidenav()}},{key:"toastOpenedChange",value:function(e){this.map.viewController.padding[2]=e?280:0,this.handleExpansionAndToastOnMobile(),this.toastPanelOpened=e}},{key:"handleExpansionAndToastOnMobile",value:function(){this.isMobile()&&this.hasExpansionPanel&&this.expansionPanelExpanded&&this.toastPanelOpened&&(this.expansionPanelExpanded=!1)}},{key:"onClearSearch",value:function(){this.map.searchResultsOverlay.clear(),this.searchStore.clear(),this.searchState.setSelectedResult(void 0),this.searchState.deactivateCustomFilterTermStrategy()}},{key:"getQuerySearchSource",value:function(){return this.searchSourceService.getSources().find(function(e){return e instanceof m.W2O})}},{key:"onContextMenuOpen",value:function(e){this.contextMenuCoord=this.getClickCoordinate(e)}},{key:"getClickCoordinate",value:function(e){var t=e,n=this.mapBrowser.nativeElement.getBoundingClientRect();t.y=t.y-n.top+(window.scrollY||window.pageYOffset),t.x=t.x-n.left+(window.scrollX||window.pageXOffset);var o=[t.x,t.y],a=this.map.ol.getCoordinateFromPixel(o),i=this.map.projection;return ne.vs(a,i,"EPSG:4326")}},{key:"openGoogleMaps",value:function(e){window.open(m.Gij.getGoogleMapsCoordLink(e[0],e[1]))}},{key:"openGoogleStreetView",value:function(e){window.open(m.Gij.getGoogleStreetViewLink(e[0],e[1]))}},{key:"searchCoordinate",value:function(e){this.searchBarTerm=e.map(function(e){return e.toFixed(6)}).join(", ")}},{key:"updateMapBrowserClass",value:function(){var e=this.queryState.store.entities$.value.length>0;this.hasExpansionPanel&&this.workspaceState.workspaceEnabled$.value?this.mapBrowser.nativeElement.classList.add("has-expansion-panel"):this.mapBrowser.nativeElement.classList.remove("has-expansion-panel"),this.hasExpansionPanel&&this.expansionPanelExpanded?this.workspaceMaximize$.value?(this.mapBrowser.nativeElement.classList.add("expansion-offset-maximized"),this.mapBrowser.nativeElement.classList.remove("expansion-offset")):(this.mapBrowser.nativeElement.classList.add("expansion-offset"),this.mapBrowser.nativeElement.classList.remove("expansion-offset-maximized")):this.workspaceMaximize$.value?this.mapBrowser.nativeElement.classList.remove("expansion-offset-maximized"):this.mapBrowser.nativeElement.classList.remove("expansion-offset"),this.sidenavOpened?this.mapBrowser.nativeElement.classList.add("sidenav-offset"):this.mapBrowser.nativeElement.classList.remove("sidenav-offset"),this.sidenavOpened&&!this.isMobile()?this.mapBrowser.nativeElement.classList.add("sidenav-offset-baselayers"):this.mapBrowser.nativeElement.classList.remove("sidenav-offset-baselayers"),this.toastPanelOpened||!e||this.expansionPanelExpanded?this.mapBrowser.nativeElement.classList.remove("toast-offset-scale-line"):this.mapBrowser.nativeElement.classList.add("toast-offset-scale-line"),!this.toastPanelOpened&&e&&(this.isMobile()||this.isTablet()||this.sidenavOpened)&&!this.expansionPanelExpanded?this.mapBrowser.nativeElement.classList.add("toast-offset-attribution"):this.mapBrowser.nativeElement.classList.remove("toast-offset-attribution")}},{key:"getToastPanelExtent",value:function(){return this.sidenavOpened?this.sidenavOpened?this.toastPanelHtmlDisplay&&this.mediaService.isDesktop()?"htmlDisplayOffsetX":this.fullExtent?"fullOffsetX":"standardOffsetX":void 0:this.toastPanelHtmlDisplay&&this.mediaService.isDesktop()?"htmlDisplay":this.fullExtent?"fullStandard":"standard"}},{key:"onPointerSummaryStatusChange",value:function(e){this.storageService.set("searchPointerSummaryEnabled",e),this.igoSearchPointerSummaryEnabled=e}},{key:"getExpansionPanelStatus",value:function(){return!1===this.sidenavOpened?!0===this.expansionPanelExpanded?"full":"notTriggered":!0===this.sidenavOpened&&!1===this.isMobile()?!0===this.expansionPanelExpanded?"reduced":"reducedNotTriggered":!0===this.sidenavOpened&&!0===this.isMobile()?!0===this.expansionPanelExpanded?"mobile":"notVisible":void 0}},{key:"getToastPanelOffsetY",value:function(){return this.expansionPanelExpanded?this.workspaceMaximize$.value?this.toastPanelOpened?"expansionMaximizedAndToastOpened":"expansionMaximizedAndToastClosed":this.toastPanelOpened?"expansionAndToastOpened":"expansionAndToastClosed":"noExpansion"}},{key:"getToastPanelStatus",value:function(){if(!0===this.isMobile()&&!1===this.toastPanelOpened&&!1===this.sidenavOpened&&!1===this.expansionPanelExpanded&&this.queryState.store.entities$.value.length>0)return"low"}},{key:"getControlsOffsetY",value:function(){return this.expansionPanelExpanded?this.workspaceMaximize$.value?"firstRowFromBottom-expanded-maximized":"firstRowFromBottom-expanded":"firstRowFromBottom"}},{key:"getBaselayersSwitcherStatus",value:function(){return this.isMobile()?this.workspaceState.workspaceEnabled$.value?!1===this.expansionPanelExpanded?0===this.queryState.store.entities$.value.length?"secondRowFromBottom":"thirdRowFromBottom":0===this.queryState.store.entities$.value.length?"firstRowFromBottom-expanded":"secondRowFromBottom-expanded":0===this.queryState.store.entities$.value.length?"firstRowFromBottom":"secondRowFromBottom":this.workspaceState.workspaceEnabled$.value?this.expansionPanelExpanded?this.workspaceMaximize$.value?"firstRowFromBottom-expanded-maximized":"firstRowFromBottom-expanded":"secondRowFromBottom":"firstRowFromBottom"}},{key:"readQueryParams",value:function(){var e=this;this.route.queryParams.subscribe(function(t){e.routeParams=t,e.readToolParams(),e.readSearchParams(),e.readFocusFirst(),e.computeZoomToExtent()})}},{key:"computeZoomToExtent",value:function(){if(this.routeParams.zoomExtent){var e=this.routeParams.zoomExtent.split(","),t=ne.$A(e,"EPSG:4326",this.map.projection);this.map.viewController.zoomToExtent(t)}}},{key:"computeFocusFirst",value:function(){setTimeout(function(){var e=document.getElementsByTagName("igo-search-results-item").item(0);e&&e.click()},1)}},{key:"readFocusFirst",value:function(){var e=this;if("1"===this.routeParams.sf&&this.termDefinedInUrl)var t=this.searchStore.stateView.all$().pipe((0,K.n)(function(e){return 0===e.length}),(0,x.b)(500),(0,ee.q)(1)).subscribe(function(n){t.unsubscribe(),n.length&&!e.termDefinedInUrlTriggered&&(e.computeFocusFirst(),e.termDefinedInUrlTriggered=!0)})}},{key:"readSearchParams",value:function(){var e=this;if(this.routeParams.search){if(this.termDefinedInUrl=!0,"1"===this.routeParams.exactMatch&&this.searchState.activateCustomFilterTermStrategy(),this.routeParams.search&&!this.routeParams.zoom&&"1"!==this.routeParams.sf)var t=this.searchStore.stateView.all$().pipe((0,K.n)(function(e){return 0===e.length}),(0,x.b)(500),(0,ee.q)(1)).subscribe(function(n){t.unsubscribe();var o=n.filter(function(e){return e.entity.meta.dataType===m.D97}).map(function(t){return(new ce.Z).readFeature(t.entity.data,{dataProjection:t.entity.data.projection,featureProjection:e.map.projection})}),a=(0,m.HgW)(e.map,o);e.map.viewController.zoomToExtent(a)});this.searchBarTerm=this.routeParams.search}"1"===this.routeParams.searchGeom&&this.searchState.searchResultsGeometryEnabled$.next(!0)}},{key:"readToolParams",value:function(){var e=this;if(this.routeParams.tool&&this.matDialogRef$.pipe((0,K.n)(function(e){return void 0!==e}),(0,te.P)()).subscribe(function(t){t||e.toolbox.activateTool(e.routeParams.tool)}),"1"===this.routeParams.sidenav&&setTimeout(function(){e.openSidenav()},250),this.routeParams.routing){var t,n=!1,o=this.routeParams.routing.split(";"),a=this.routeParams.routingOptions;a&&(t=parseInt(a.split("result:")[1],10)),this.directionState.stopsStore.storeInitialized$.pipe((0,K.n)(function(e){return!e}),(0,te.P)()).subscribe(function(t){t&&!n&&(n=!0,o.map(function(t,n){n>1&&(0,m.yLv)(e.directionState.stopsStore)}),setTimeout(function(){o.map(function(t,n){var o=e.directionState.stopsStore.all().find(function(e){return e.position===n});o.text=t,o.coordinates=t.split(","),e.directionState.stopsStore.update(o)})},1.25*e.directionState.debounceTime))}),this.directionState.routesFeatureStore.count$.pipe((0,K.n)(function(e){return e<1}),(0,te.P)()).subscribe(function(t){t>=1&&e.directionState.zoomToActiveRoute$.next()}),this.directionState.routesFeatureStore.count$.pipe((0,K.n)(function(e){return e<2}),(0,te.P)()).subscribe(function(){t&&(e.directionState.routesFeatureStore.entities$.value.map(function(e){return e.properties.active=!1}),e.directionState.routesFeatureStore.entities$.value[t].properties.active=!0,e.directionState.zoomToActiveRoute$.next())})}}},{key:"readLayersQueryParams",value:function(e){this.readLayersQueryParamsByType(e,"wms"),this.readLayersQueryParamsByType(e,"wmts"),this.readLayersQueryParamsByType(e,"arcgisrest"),this.readLayersQueryParamsByType(e,"imagearcgisrest"),this.readLayersQueryParamsByType(e,"tilearcgisrest"),this.readVectorQueryParams(e)}},{key:"getQueryParam",value:function(e,t){var n;return t.includes("?")&&(n=new ae.LE({fromString:t.split("?")[1]}).get(e)),n}},{key:"readLayersQueryParamsByType",value:function(e,t){var n,o,a=this;switch(t){case"wms":(e.layers||e.wmsLayers)&&e.wmsUrl&&(o="wmsUrl",n=e.wmsLayers?"wmsLayers":"layers");break;case"wmts":e.wmtsLayers&&e.wmtsUrl&&(o="wmtsUrl",n="wmtsLayers");break;case"arcgisrest":e.arcgisLayers&&e.arcgisUrl&&(o="arcgisUrl",n="arcgisLayers");break;case"imagearcgisrest":e.iarcgisLayers&&e.iarcgisUrl&&(o="iarcgisUrl",n="iarcgisLayers");break;case"tilearcgisrest":e.tarcgisLayers&&e.tarcgisUrl&&(o="tarcgisUrl",n="tarcgisLayers")}if(n&&o){var i=e[n].split("),("),s=e[o].split(","),r=0;s.forEach(function(n){var o=n,s=a.getQueryParam("VERSION",o)||a.getQueryParam("version",o)||void 0;s&&(o=o.replace("VERSION="+s,"").replace("version="+s,"")),a.extractLayersByService(i[r]).forEach(function(n){var i=n.split(":igoz"),r=H.gb.removeUndefined({type:t,url:o,layer:i[0],params:"wms"===t?{LAYERS:i[0]}:void 0}),l=(0,m.lZj)(r),c=a.computeLayerVisibilityFromUrl(e,l);a.addLayerFromURL(o,i[0],t,s,c,i[1]?parseInt(i[1],10):void 0)}),r+=1})}}},{key:"readVectorQueryParams",value:function(e){var t=this;if(e.vector){var n=e.vector,o=n.lastIndexOf("/"),a=n.slice(o+1,n.length);this.http.get("".concat(n),{responseType:"blob"}).subscribe(function(e){var n=new File([e],a,{type:e.type,lastModified:Date.now()});t.importService.import(n).subscribe(function(e){return t.onFileImportSuccess(n,e)},function(e){return t.onFileImportError(n,e)})})}}},{key:"onFileImportSuccess",value:function(e,t){(0,m.xrF)(e,t,this.map,this.messageService,this.languageService)}},{key:"onFileImportError",value:function(e,t){(0,m.jDn)(e,t,this.messageService,this.languageService)}},{key:"extractLayersByService",value:function(e){var t=e;return(t=(t=t.startsWith("(")?t.substr(1):t).endsWith(")")?t.slice(0,-1):t).split(",")}},{key:"addLayerFromURL",value:function(e,t,n,o){var a=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0;if(this.contextLoaded){var r={optionsFromCapabilities:!0,optionsFromApi:!0,crossOrigin:!0,type:n,url:e},l="arcgisrest"===n||"imagearcgisrest"===n||"tilearcgisrest"===n,c={version:"wmts"===n?"1.0.0":void 0,queryable:!!l,queryFormat:l?"esrijson":void 0,layer:t};"wms"===n&&(c={params:{LAYERS:t,VERSION:o}}),c=H.gb.removeUndefined(Object.assign({},c,r)),this.addedLayers$$.push(this.layerService.createAsyncLayer({zIndex:s,visible:i,sourceOptions:c}).subscribe(function(e){a.map.addLayer(e)}))}}},{key:"computeLayerVisibilityFromUrl",value:function(e,t){var n=e,o=!0;if(!n||!t)return o;var a="",i="",s=[],r=[];return n.visiblelayers&&(a=n.visiblelayers),n.invisiblelayers&&(i=n.invisiblelayers),"*"===a&&(o=!0),"*"===i&&(o=!1),s=a.split(","),r=i.split(","),(s.indexOf(t)>-1||s.indexOf(t.toString())>-1)&&(o=!0),(r.indexOf(t)>-1||r.indexOf(t.toString())>-1)&&(o=!1),o}},{key:"initWelcomeWindow",value:function(){var e,t=this;(null===(e=this.auth)||void 0===e?void 0:e.url)?this.authService.logged$.subscribe(function(e){e&&t.createWelcomeWindow()}):this.createWelcomeWindow()}},{key:"createWelcomeWindow",value:function(){var e=this;if(this.welcomeWindowService.hasWelcomeWindow()){var t=this.welcomeWindowService.getConfig();this.matDialogRef$.next(this.dialogWindow.open(le,t)),this.matDialogRef$.value.afterClosed().subscribe(function(t){e.welcomeWindowService.afterClosedWelcomeWindow(),e.matDialogRef$.next(void 0)})}}},{key:"getFeatureIsSameActiveWks",value:function(e){if(this.workspace){var t=e.meta.sourceTitle;return this.workspace.title===t}return!1}},{key:"getWksActiveOpenInResolution",value:function(){if(this.workspace){var e=this.workspace;if(e.active&&e.inResolutionRange$.value&&this.workspaceState.workspacePanelExpanded)return!0}return!1}},{key:"refreshRelationsWorkspace",value:function(e){var t=this;if(null==e?void 0:e.length){var o,a=n(e);try{var i=function(){var e=o.value,n=t.workspaceStore.all().find(function(t){return e.options.workspace.workspaceId.includes(t.id)});null==n||n.meta.tableTemplate.columns.forEach(function(e){("list"===e.type||"autocomplete"===e.type)&&t.editionWorkspaceService.getDomainValues(e.relation.table).subscribe(function(t){e.domainValues=t})})};for(a.s();!(o=a.n()).done;)i()}catch(s){a.e(s)}finally{a.f()}}}}]),t}();function lt(e,t){1&e&&c._UZ(0,"igo-auth-form")}rt.\u0275fac=function(e){return new(e||rt)(c.Y36(p.gz),c.Y36(E.gV),c.Y36(g.e8),c.Y36(u.yJ),c.Y36(m.ITu),c.Y36(m.LvN),c.Y36(c.sBO),c.Y36(m.neU),c.Y36(E.sz),c.Y36(E.U5),c.Y36(E.po),c.Y36(E.Tb),c.Y36(E.EH),c.Y36(m.gS3),c.Y36(u.E4),c.Y36(m.Y5R),c.Y36(ae.eN),c.Y36(u.TS),c.Y36(u.ez),c.Y36(ie),c.Y36(_.uw),c.Y36(m._7J),c.Y36(u.V1),c.Y36(m.zNf),c.Y36(E.Nw),c.Y36(E.Zm),c.Y36(E.oo),c.Y36(m.gb3))},rt.\u0275cmp=c.Xpm({type:rt,selectors:[["app-portal"]],viewQuery:function(e,t){var n;(1&e&&(c.Gf(Le,7,c.SBq),c.Gf(qe,7,c.SBq)),2&e)&&(c.iGM(n=c.CRH())&&(t.mapBrowser=n.first),c.iGM(n=c.CRH())&&(t.searchBar=n.first))},decls:33,vars:54,consts:[[1,"app-main-container"],[3,"shown","click"],[3,"sidenavOpened","openSidenav",4,"ngIf"],[3,"term","termSplitter","minLength","searchSettings","forceNA","store","pointerSummaryEnabled","searchResultsGeometryEnabled","searchTermChange","pointerSummaryStatus","searchResultsGeometryStatus","search","clearFeature","searchSettingsChange",4,"ngIf"],[3,"map","opened","openedChange","toolChange"],["igoMapOffline","","igoWorkspaceUpdator","","igoSearchPointerSummary","","igoHoverFeature","","igoQuery","","igoMapContext","","igoLayerContext","","igoDropGeoFile","",3,"workspaceStore","igoSearchPointerSummaryDelay","igoSearchPointerSummaryEnabled","igoHoverFeatureDelay","igoHoverFeatureEnabled","waitForAllQueries","queryFeatures","queryFeaturesHitTolerance","allowedExtensions","map","igoContextMenu","ngClass","query","menuPosition"],["mapBrowser",""],[1,"rtssOverlay",3,"infoContent"],["color","primary",3,"map"],[3,"map"],["color","primary",3,"map",4,"ngIf"],["color","primary",3,"showIfNoRotation","map"],["color","primary",3,"map","extentOverride","centerOverride","zoomOverride",4,"ngIf"],[3,"map","useStaticIcon"],[3,"backdropShown","expanded","maximized","expandedChange",4,"ngIf"],[3,"withHeader","opened","openedChange"],[1,"toast-panel-for-expansion-close-button-container"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","close"],[3,"workspace","deactivateWidget",4,"ngIf"],[3,"map","store","hasFeatureEmphasisOnSelection","opened","openedChange","fullExtentEvent","windowHtmlDisplayEvent",4,"ngIf"],["contextMenu",""],[3,"sidenavOpened","openSidenav"],[3,"term","termSplitter","minLength","searchSettings","forceNA","store","pointerSummaryEnabled","searchResultsGeometryEnabled","searchTermChange","pointerSummaryStatus","searchResultsGeometryStatus","search","clearFeature","searchSettingsChange"],["searchBar",""],["color","primary",3,"map","extentOverride","centerOverride","zoomOverride"],[3,"backdropShown","expanded","maximized","expandedChange"],["expansionPanelHeader",""],["igoWorkspaceSelector","",3,"store","disabled","map","toolToActivate","changeWorkspace","disableSwitch","relationLayers","rowsInMapExtentCheckCondition"],[4,"ngIf"],["mat-icon-button","","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",1,"eye-workspace",3,"color","matTooltip","click"],[3,"ngClass","svgIcon"],["class","add-feature","mat-icon-button","","color","primary","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",3,"matTooltip","click",4,"ngIf"],["class","actionbar-workspace",3,"store","withIcon","withTitle","horizontal","withToggleButton","iconColor","color","mode","overlayClass",4,"ngIf"],[1,"spacer"],[3,"store","entitySortChange$","paginatorOptions","paginatorChange",4,"ngIf"],["mat-icon-button","","color","primary","collapsibleButton","","tooltip-position","below","matTooltipShowDelay","500",1,"add-feature",3,"matTooltip","click"],["svgIcon","plus"],[1,"actionbar-workspace",3,"store","withIcon","withTitle","horizontal","withToggleButton","iconColor","color","mode","overlayClass"],[3,"store","entitySortChange$","paginatorOptions","paginatorChange"],[3,"class","paginator","store","template","entitySortChange","entitySelectChange",4,"ngIf"],[1,"mat-typography"],[3,"paginator","store","template","entitySortChange","entitySelectChange"],[3,"workspace","deactivateWidget"],[3,"map","store","hasFeatureEmphasisOnSelection","opened","openedChange","fullExtentEvent","windowHtmlDisplayEvent"],["mode","context",3,"store","withIcon","horizontal"]],template:function(e,t){if(1&e&&(c.TgZ(0,"mat-sidenav-container",0),c.TgZ(1,"mat-sidenav-content"),c.TgZ(2,"igo-backdrop",1),c.NdJ("click",function(){return t.onBackdropClick()}),c.qZA(),c.YNc(3,We,1,1,"igo-menu-button",2),c.YNc(4,Je,2,8,"igo-search-bar",3),c.TgZ(5,"app-sidenav",4),c.NdJ("openedChange",function(e){return t.sidenavOpened=e})("toolChange",function(e){return t.toolChanged(e)}),c.qZA(),c.TgZ(6,"igo-map-browser",5,6),c.NdJ("query",function(e){return t.onMapQuery(e)})("menuPosition",function(e){return t.onContextMenuOpen(e)})("@mapStateX.start",function(){return t.updateMapBrowserClass()})("@mapStateY.start",function(){return t.updateMapBrowserClass()}),c._UZ(8,"igo-info-section",7),c._UZ(9,"igo-zoom-button",8),c._UZ(10,"igo-swipe-control",9),c._UZ(11,"igo-map-center",9),c._UZ(12,"igo-wake-lock-button",8),c._UZ(13,"igo-offline-button",8),c.YNc(14,Qe,1,3,"igo-geolocate-button",10),c._UZ(15,"igo-rotation-button",11),c.YNc(16,He,1,4,"igo-home-extent-button",12),c.YNc(17,Ye,1,3,"igo-user-button",10),c._UZ(18,"igo-baselayers-switcher",13),c.qZA(),c._UZ(19,"app-map-overlay"),c.ALo(20,"async"),c.qZA(),c.qZA(),c.YNc(21,tt,8,16,"app-expansion-panel",14),c.ALo(22,"async"),c.TgZ(23,"app-toast-panel-for-expansion",15),c.NdJ("openedChange",function(e){return t.toastPanelForExpansionOpened=e}),c.TgZ(24,"div",16),c.TgZ(25,"button",17),c.NdJ("click",function(){return t.toastPanelForExpansionOpened=!1}),c._UZ(26,"mat-icon",18),c.qZA(),c.qZA(),c.YNc(27,nt,1,1,"igo-workspace-widget-outlet",19),c.ALo(28,"async"),c.qZA(),c.YNc(29,ot,2,9,"app-toast-panel",20),c.ALo(30,"async"),c.YNc(31,at,1,3,"ng-template",null,21,c.W1O)),2&e){var n=c.MAs(32);c.xp6(2),c.Q6J("shown",t.backdropShown),c.xp6(1),c.Q6J("ngIf",t.showMenuButton),c.xp6(1),c.Q6J("ngIf",t.showSearchBar),c.xp6(1),c.Q6J("map",t.map)("opened",t.sidenavOpened),c.xp6(1),c.Q6J("workspaceStore",t.workspaceStore)("igoSearchPointerSummaryDelay",500)("igoSearchPointerSummaryEnabled",t.igoSearchPointerSummaryEnabled)("igoHoverFeatureDelay",250)("igoHoverFeatureEnabled",!0)("waitForAllQueries",!0)("queryFeatures",!0)("queryFeaturesHitTolerance",15)("allowedExtensions",c.DdM(51,it))("map",t.map)("igoContextMenu",n)("ngClass",c.VKq(52,st,t.map.getBaseLayers().length>1))("@mapStateX",t.sidenavOpened?"right":"left")("@mapStateY",t.getControlsOffsetY()),c.xp6(2),c.Q6J("infoContent",t.infoContent),c.xp6(1),c.Q6J("map",t.map)("@controlsOffsetY",t.getControlsOffsetY()),c.xp6(1),c.Q6J("map",t.map),c.xp6(1),c.Q6J("map",t.map),c.xp6(1),c.Q6J("map",t.map),c.xp6(1),c.Q6J("map",t.map)("@controlsOffsetY",t.getControlsOffsetY())("@mobileOffsetY",t.getToastPanelStatus()),c.xp6(1),c.Q6J("ngIf",t.hasGeolocateButton),c.xp6(1),c.Q6J("showIfNoRotation",t.showRotationButtonIfNoRotation)("map",t.map),c.xp6(1),c.Q6J("ngIf",t.hasHomeExtentButton),c.xp6(1),c.Q6J("ngIf",t.auth.url),c.xp6(1),c.Q6J("map",t.map)("@controlsOffsetY",t.getBaselayersSwitcherStatus())("useStaticIcon",!0),c.xp6(1),c.Q6J("@controlStateY",t.getControlsOffsetY())("@controlStateX","mobile"!==c.lcZ(20,43,t.mediaService.media$)&&t.sidenavOpened?"right":"left"),c.xp6(2),c.Q6J("ngIf",t.hasExpansionPanel&&c.lcZ(22,45,t.workspaceState.workspaceEnabled$)),c.xp6(2),c.Q6J("withHeader",!1)("opened",t.toastPanelForExpansionOpened),c.xp6(4),c.Q6J("ngIf",c.lcZ(28,47,t.selectedWorkspace$)),c.xp6(2),c.Q6J("ngIf",!0!==c.lcZ(30,49,t.queryStore.empty$))}},directives:[P.TM,P.Rh,h.qv,C.O5,he,m.ExE,m.W4Y,m.O91,m.tt3,m.Ej2,m.TEo,T.b3,T.mH,m.V$T,h.lB,C.mk,m.tlf,m.PUQ,m.tk9,m.qt4,m.gvi,m.y$j,m.fwr,m.AIr,we,Se,O.lW,k.Hw,m.pyf,m.NBD,m.u$Y,m.$BH,T.qy,Pe,h.i8,m.DpO,M.gM,h.nv,h.$E,h.Fh,h.lk,De],pipes:[C.Ov,se.X$],styles:["#tour-button[_ngcontent-%COMP%]{font-weight:bold;position:absolute;left:5px;top:50px;z-index:4}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){.tour-button-title[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]{width:100%;height:100%;display:block}  igo-info-section.rtssOverlay .infoSection{color:#fff;font-weight:900;font-size:2.25em;text-shadow:0 0 5px black,0 0 10px black,0 0 15px black;background-color:transparent}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){  igo-info-section.rtssOverlay .infoSection{top:calc(40px + 5px + 5px);left:10px;text-align:left}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){  igo-info-section.rtssOverlay .infoSection{top:calc(40px + 5px + 5px);left:10px;text-align:left}}igo-menu-button[_ngcontent-%COMP%]{position:absolute;z-index:4}mat-icon.disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.38)}igo-map-browser[_ngcontent-%COMP%]{width:100%;height:100%}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution{left:50px;bottom:5px;text-align:left;padding:0;margin-right:90px;background-color:rgba(255,255,255,0);width:calc(100% - 500px)}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-logo-only{height:inherit}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-collapsed{background:none}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-collapsed button{transform:none}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution button{transform:rotate(180deg);background-color:#fff;cursor:pointer}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution.ol-uncollapsible{height:auto}igo-map-browser[_ngcontent-%COMP%]     .ol-attribution ul{background-color:rgba(255,255,255,.6);padding:2px .5em}igo-map-browser.has-expansion-panel[_ngcontent-%COMP%]   igo-baselayers-switcher[_ngcontent-%COMP%]{bottom:47px}igo-map-browser.sidenav-offset-baselayers[_ngcontent-%COMP%]   igo-baselayers-switcher[_ngcontent-%COMP%]{left:405px}igo-map-browser[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{position:absolute;width:100%;left:0;bottom:0}igo-map-browser.sidenav-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{left:400px;width:calc(100% - 380px)}igo-map-browser.sidenav-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent .ol-scale-line{left:40%}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-map-browser.sidenav-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{display:none}}igo-map-browser.expansion-offset[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{bottom:281px}igo-map-browser.expansion-offset-maximized[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent{bottom:496px}igo-map-browser.toast-offset-scale-line[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent   .ol-scale-line{bottom:50px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-map-browser.toast-offset-attribution[_ngcontent-%COMP%]     .ol-overlaycontainer-stopevent   .ol-attribution{bottom:50px}}igo-search-bar[_ngcontent-%COMP%]{background-color:#fff;font-size:16px;position:absolute;left:45px;top:5px;z-index:4;width:calc(400px - 45px - (2 * 5px));height:40px;margin:0 5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-search-bar[_ngcontent-%COMP%]{width:calc(100% - 40px - 45px - (3 * 5px));max-width:350px}}mat-sidenav-container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;z-index:5;display:unset}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){mat-sidenav-content[_ngcontent-%COMP%]{z-index:auto}}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}igo-actionbar[_ngcontent-%COMP%]{padding-left:7px;padding-top:5px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-workspace-selector[_ngcontent-%COMP%]{width:100px}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-entity-table-paginator[_ngcontent-%COMP%]{margin-left:-30px}}igo-entity-table[_ngcontent-%COMP%]     td.mat-column-edition{display:flex;height:100%;align-items:center}app-expansion-panel[_ngcontent-%COMP%]{position:absolute;bottom:0;overflow:hidden;z-index:5}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){@supports (-webkit-appearance: none) and (not (overflow: -webkit-marquee)) and (not (-ms-ime-align: auto)) and (not (-moz-appearance: none)){app-expansion-panel[_ngcontent-%COMP%]{z-index:1}}}app-toast-panel[_ngcontent-%COMP%]{position:absolute;left:50%;margin-left:-300px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;z-index:5;outline:none}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-toast-panel[_ngcontent-%COMP%]{left:49px;margin-left:0;min-width:100%}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){app-toast-panel[_ngcontent-%COMP%]{max-width:inherit;left:calc(50% + 60px)}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-full-toast-panel-opened, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-toast-panel-html-large, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-full-toast-panel-opened, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-toast-panel-html-large{max-height:50vh}app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-full-toast-panel-opened .toast-content, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >div   igo-panel.app-toast-panel-html-large .toast-content, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-full-toast-panel-opened .toast-content, app-expansion-panel.app-expansion-panel-expanded[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]     igo-panel.app-toast-panel-html-large .toast-content{max-height:calc(50vh - 8vh)}}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel{max-height:45vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel .toast-content{max-height:40vh}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel{max-height:30vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel .toast-content{max-height:calc(30vh - 6vh)}}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel.app-toast-panel-html{height:30vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel.app-toast-panel-opened{height:auto;max-height:30vh}app-expansion-panel.app-expansion-panel-expanded-maximized[_ngcontent-%COMP%] + app-toast-panel-for-expansion[_ngcontent-%COMP%] + app-toast-panel[_ngcontent-%COMP%]    >igo-panel.app-toast-panel-opened .toast-content{max-height:25vh}app-toast-panel.expansion-panel-expanded[_ngcontent-%COMP%], app-toast-panel[_ngcontent-%COMP%]:not(.has-expansion-panel), app-toast-panel.app-toast-panel-opened[_ngcontent-%COMP%]{bottom:0}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-toast-panel.expansion-panel-expanded[_ngcontent-%COMP%], app-toast-panel[_ngcontent-%COMP%]:not(.has-expansion-panel), app-toast-panel.app-toast-panel-opened[_ngcontent-%COMP%]{left:0}}igo-offline-button[_ngcontent-%COMP%]{margin-bottom:128px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-offline-button[_ngcontent-%COMP%]{margin-bottom:45px}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-offline-button[_ngcontent-%COMP%]{margin-bottom:45px}}igo-geolocate-button[_ngcontent-%COMP%]{margin-bottom:85px}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-geolocate-button[_ngcontent-%COMP%]{margin-bottom:0}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-geolocate-button[_ngcontent-%COMP%]{margin-bottom:0}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){igo-home-extent-button[_ngcontent-%COMP%]{margin-bottom:0;right:calc((2 * 40px) + (4 * 5px))}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-home-extent-button[_ngcontent-%COMP%]{margin-bottom:0;right:calc((2 * 40px) + (4 * 5px))}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){igo-zoom-button[_ngcontent-%COMP%]{display:none}}app-toast-panel-for-expansion[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;margin-left:-300px;width:600px;z-index:6}@media only screen and (min-width: 960px) and (max-width: 1280px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:480px;margin-left:-240px}}@media only screen and (min-width: 600px) and (max-width: 959px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:480px;margin-left:-240px}}@media only screen and (orientation:portrait) and (min-width: 600px) and (max-width: 839px),only screen and (orientation:landscape) and (min-width: 960px) and (max-width: 1279px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:calc(100% - 2 * 49px);left:49px;margin-left:0}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){app-toast-panel-for-expansion[_ngcontent-%COMP%]{width:calc(100% - 2 * 49px);left:49px;margin-left:0}}@media only screen and (orientation:portrait) and (max-width: 599px),only screen and (orientation:landscape) and (max-width: 959px){toast-panel-for-expansion.toast-panel-for-expansion-opened[_ngcontent-%COMP%]{width:100%;left:0}}.mat-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{background:none}app-toast-panel-for-expansion[_ngcontent-%COMP%]   .toast-panel-for-expansion-close-button-container[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-15px;z-index:6;padding:5px}app-toast-panel-for-expansion[_ngcontent-%COMP%]   .toast-panel-for-expansion-close-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;line-height:24px}.eye-workspace[_ngcontent-%COMP%]{margin-left:7px;margin-top:5px}.add-feature[_ngcontent-%COMP%]{margin-top:5px}.actionbar-workspace[_ngcontent-%COMP%]{padding-left:0}  div.workspace-menu{max-width:-webkit-fit-content!important;max-width:-moz-fit-content!important;max-width:fit-content!important}  div.workspace-menu div.mat-menu-content   span.mat-checkbox-label,   div.workspace-menu div.mat-menu-content   div.mat-list-text{font-size:12px}"],data:{animation:[[(0,oe.X$)("expansionPanelSize",[(0,oe.SB)("full",(0,oe.oB)({left:"5px","max-width":"100%"})),(0,oe.SB)("notTriggered",(0,oe.oB)({left:"5px",bottom:"5px","max-width":"100%"})),(0,oe.SB)("notVisible",(0,oe.oB)({display:"none"})),(0,oe.SB)("mobile",(0,oe.oB)({left:"calc(100% - 40px)"})),(0,oe.SB)("reduced",(0,oe.oB)({left:"405px","max-width":"calc(100% - 405px)"})),(0,oe.SB)("reducedNotTriggered",(0,oe.oB)({left:"405px",bottom:"5px","max-width":"calc(100% - 405px)"})),(0,oe.eR)("* => *",(0,oe.jt)("100ms"))]),(0,oe.X$)("toastOffsetY",[(0,oe.SB)("true",(0,oe.oB)({bottom:"50px"})),(0,oe.SB)("false",(0,oe.oB)({bottom:"5px"}))])],[(0,oe.X$)("toastPanelMobileSidenav",[(0,oe.SB)("true",(0,oe.oB)({display:"none"})),(0,oe.eR)("* => void",(0,oe.jt)("0ms")),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))]),(0,oe.X$)("toastPanelOffsetX",[(0,oe.SB)("fullStandard",(0,oe.oB)({left:"45%"})),(0,oe.SB)("standard",(0,oe.oB)({left:"50%"})),(0,oe.SB)("htmlDisplay",(0,oe.oB)({left:"40%"})),(0,oe.SB)("fullOffsetX",(0,oe.oB)({left:"calc(45% + 202px)"})),(0,oe.SB)("standardOffsetX",(0,oe.oB)({left:"calc(50% + 202px)"})),(0,oe.SB)("htmlDisplayOffsetX",(0,oe.oB)({left:"calc(40% + 160px)"})),(0,oe.eR)("fullStandard => fullOffsetX",(0,oe.jt)("200ms")),(0,oe.eR)("fullOffsetX => fullStandard",(0,oe.jt)("200ms")),(0,oe.eR)("standard => standardOffsetX",(0,oe.jt)("200ms")),(0,oe.eR)("standardOffsetX => standard",(0,oe.jt)("200ms")),(0,oe.eR)("htmlDisplay => htmlDisplayOffsetX",(0,oe.jt)("200ms")),(0,oe.eR)("htmlDisplayOffsetX => htmlDisplay",(0,oe.jt)("200ms"))]),(0,oe.X$)("toastPanelOffsetY",[(0,oe.SB)("noExpansion",(0,oe.oB)({bottom:"0"})),(0,oe.SB)("expansionAndToastOpened",(0,oe.oB)({bottom:"285px",zIndex:"999"})),(0,oe.SB)("expansionAndToastClosed",(0,oe.oB)({bottom:"285px",zIndex:"5"})),(0,oe.SB)("expansionMaximizedAndToastOpened",(0,oe.oB)({bottom:"500px",zIndex:"999"})),(0,oe.SB)("expansionMaximizedAndToastClosed",(0,oe.oB)({bottom:"500px",zIndex:"5"})),(0,oe.eR)("noExpansion => noExpansion",(0,oe.jt)("10ms")),(0,oe.eR)("expansionAndToastOpened => expansionAndToastOpened",(0,oe.jt)("200ms")),(0,oe.eR)("expansionAndToastClosed => expansionAndToastClosed",(0,oe.jt)("200ms")),(0,oe.eR)("expansionMaximizedAndToastOpened => expansionMaximizedAndToastOpened",(0,oe.jt)("200ms")),(0,oe.eR)("expansionMaximizedAndToastClosed => expansionMaximizedAndToastClosed",(0,oe.jt)("200ms"))])],[(0,oe.X$)("controlsOffsetY",[(0,oe.SB)("close",(0,oe.oB)({})),(0,oe.SB)("firstRowFromBottom",(0,oe.oB)({bottom:"5px"})),(0,oe.SB)("firstRowFromBottom-expanded",(0,oe.oB)({bottom:"285px"})),(0,oe.SB)("firstRowFromBottom-expanded-maximized",(0,oe.oB)({bottom:"500px"})),(0,oe.SB)("secondRowFromBottom",(0,oe.oB)({bottom:"47px"})),(0,oe.SB)("thirdRowFromBottom",(0,oe.oB)({bottom:"104px"})),(0,oe.SB)("",(0,oe.oB)({bottom:"calc(285px)"})),(0,oe.SB)("secondRowFromBottom-expanded",(0,oe.oB)({bottom:"calc(285px + 52px)"})),(0,oe.SB)("thirdRowFromBottom-expanded",(0,oe.oB)({bottom:"calc(285px + 104px)"})),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))]),(0,oe.X$)("mobileOffsetY",[(0,oe.SB)("low",(0,oe.oB)({bottom:"50px"})),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))])],(0,oe.X$)("controlStateX",[(0,oe.SB)("left",(0,oe.oB)({left:"60px"})),(0,oe.SB)("right",(0,oe.oB)({left:"465px"})),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))]),(0,oe.X$)("controlStateY",[(0,oe.SB)("close",(0,oe.oB)({})),(0,oe.SB)("firstRowFromBottom",(0,oe.oB)({bottom:"2px","margin-left":"0px"})),(0,oe.SB)("firstRowFromBottom-expanded",(0,oe.oB)({bottom:"285px","margin-left":"-55px"})),(0,oe.SB)("firstRowFromBottom-expanded-maximized",(0,oe.oB)({bottom:"500px","margin-left":"-55px"})),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))]),(0,oe.X$)("mapStateX",[(0,oe.SB)("left",(0,oe.oB)({left:"0"})),(0,oe.SB)("right",(0,oe.oB)({left:"0"})),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))]),(0,oe.X$)("mapStateY",[(0,oe.SB)("*",(0,oe.oB)({bottom:"0"})),(0,oe.eR)("* => *",(0,oe.jt)("200ms"))])]}});var ct=function(){function t(e,n,o,a,s,r,l,c,p){i(this,t),this.languageService=e,this.configService=n,this.analyticsService=o,this.analyticsListenerService=a,this.renderer=s,this.titleService=r,this.metaService=l,this.messageService=c,this.pwaService=p,this.themeClass="blue-theme",this.pwaService.checkForUpdates(),this.languageService.translate.getTranslation(this.languageService.getLanguage()).subscribe(),this.authConfig=this.configService.getConfig("auth"),this.readTitleConfig(),this.readThemeConfig(),this.readDescriptionConfig(),this.analyticsListenerService.listen(),this.detectOldBrowser()}return r(t,[{key:"readTitleConfig",value:function(){var e=this;this.languageService.translate.get(this.configService.getConfig("title")).subscribe(function(t){t&&(e.titleService.setTitle(t),e.metaService.addTag({name:"title",content:t}))})}},{key:"readThemeConfig",value:function(){var e=this.configService.getConfig("theme")||this.themeClass;e&&this.renderer.addClass(document.body,e)}},{key:"readDescriptionConfig",value:function(){var e=this.configService.getConfig("description");e&&this.metaService.addTag({name:"description",content:e})}},{key:"detectOldBrowser",value:function(){var t=this;if(H.WE.satisfies({ie:"<=11",chrome:"<64",firefox:"<60",safari:"<=11"})){var n=this.languageService.translate,o=n.get("oldBrowser.title"),a=n.get("oldBrowser.message");(0,J.$R)(o,a).pipe((0,Q.U)(function(t){var n=e(t,2);return{title:n[0],message:n[1]}})).subscribe(function(e){return t.messageService.alert(e.message,e.title,{timeOut:15e3})})}}}]),t}();ct.\u0275fac=function(e){return new(e||ct)(c.Y36(u.TS),c.Y36(u.E4),c.Y36(u.yD),c.Y36(E.jZ),c.Y36(c.Qsj),c.Y36(l.Dx),c.Y36(l.h_),c.Y36(u.ez),c.Y36(S))},ct.\u0275cmp=c.Xpm({type:ct,selectors:[["app-root"]],decls:3,vars:1,consts:[["igoSpinnerActivity",""],[4,"ngIf"],["igoStopDropPropagation",""]],template:function(e,t){1&e&&(c._UZ(0,"igo-spinner",0),c.YNc(1,lt,1,0,"igo-auth-form",1),c._UZ(2,"app-portal",2)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.authConfig&&t.authConfig.url))},directives:[h.OR,h.Ft,C.O5,rt,h.k8,g.cD],styles:['[_nghost-%COMP%]{font-family:Roboto,"Helvetica Neue",sans-serif}igo-spinner[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:5}igo-message-center[_ngcontent-%COMP%]     simple-notifications   div.simple-notification-wrapper{right:10px}']});var pt=function e(){i(this,e)};pt.\u0275fac=function(e){return new(e||pt)},pt.\u0275mod=c.oAB({type:pt,bootstrap:[ct]}),pt.\u0275inj=c.cJS({providers:[(0,u.TQ)({default:b.igo,path:"./config/config.json"}),u.MZ,(0,m.ZsY)(),(0,m.cmn)(),(0,m.PIH)(),(0,m.jxb)(),(0,m.c43)(),(0,m.eKy)(),(0,m.MG6)(),(0,m.HAL)(),(0,m.$hA)(),{provide:c.ip1,useFactory:function(e,t,n){return function(){return new Promise(function(n){e.translate.getTranslation(e.getLanguage()).subscribe(function(){console.info("Successfully initialized '".concat(e.getLanguage(),"' language.'")),t.initPwaPrompt()},function(t){console.error("Problem with '".concat(e.getLanguage(),"' language initialization.'"))},function(){n(null)})})}},deps:[u.TS,S,c.zs3],multi:!0},(0,m.rQG)({path:"./assets/list-style.json"})],imports:[[l.b2,d.PW,p.Bz.forRoot([]),g._e.forRoot(),u.u4.forRoot(),u.zZ,h.d3,h.Po,W,l.t6,y.Wr.register("ngsw-worker.js",{enabled:b.production,registrationStrategy:"registerWithDelay:5000"})]]}),s(58256),b.production&&(0,c.G48)(),l.q6().bootstrapModule(pt).catch(function(e){return console.log(e)})},22356:function(e,t,n){var o={"./en.auth.json":44505,"./en.common.json":13841,"./en.context.json":2977,"./en.core.json":8982,"./en.geo.json":49853,"./en.integration.json":38430,"./en.json":90642,"./fr.auth.json":13788,"./fr.common.json":55144,"./fr.context.json":65742,"./fr.core.json":38783,"./fr.geo.json":78405,"./fr.integration.json":66409,"./fr.json":60863};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=22356},46700:function(e,t,n){var o={"./af":62275,"./af.js":62275,"./ar":90857,"./ar-dz":11218,"./ar-dz.js":11218,"./ar-kw":14754,"./ar-kw.js":14754,"./ar-ly":66680,"./ar-ly.js":66680,"./ar-ma":92178,"./ar-ma.js":92178,"./ar-sa":56522,"./ar-sa.js":56522,"./ar-tn":95682,"./ar-tn.js":95682,"./ar.js":90857,"./az":70164,"./az.js":70164,"./be":79774,"./be.js":79774,"./bg":60947,"./bg.js":60947,"./bm":21832,"./bm.js":21832,"./bn":89650,"./bn-bd":74477,"./bn-bd.js":74477,"./bn.js":89650,"./bo":66005,"./bo.js":66005,"./br":98492,"./br.js":98492,"./bs":70534,"./bs.js":70534,"./ca":52061,"./ca.js":52061,"./cs":84737,"./cs.js":84737,"./cv":61167,"./cv.js":61167,"./cy":77996,"./cy.js":77996,"./da":9528,"./da.js":9528,"./de":14540,"./de-at":49430,"./de-at.js":49430,"./de-ch":67978,"./de-ch.js":67978,"./de.js":14540,"./dv":83426,"./dv.js":83426,"./el":6616,"./el.js":6616,"./en-au":63816,"./en-au.js":63816,"./en-ca":32162,"./en-ca.js":32162,"./en-gb":83305,"./en-gb.js":83305,"./en-ie":61954,"./en-ie.js":61954,"./en-il":43060,"./en-il.js":43060,"./en-in":59923,"./en-in.js":59923,"./en-nz":13540,"./en-nz.js":13540,"./en-sg":16505,"./en-sg.js":16505,"./eo":41907,"./eo.js":41907,"./es":86640,"./es-do":41246,"./es-do.js":41246,"./es-mx":56131,"./es-mx.js":56131,"./es-us":36430,"./es-us.js":36430,"./es.js":86640,"./et":62551,"./et.js":62551,"./eu":32711,"./eu.js":32711,"./fa":54572,"./fa.js":54572,"./fi":33390,"./fi.js":33390,"./fil":87860,"./fil.js":87860,"./fo":48216,"./fo.js":48216,"./fr":99291,"./fr-ca":98527,"./fr-ca.js":98527,"./fr-ch":58407,"./fr-ch.js":58407,"./fr.js":99291,"./fy":47054,"./fy.js":47054,"./ga":49540,"./ga.js":49540,"./gd":73917,"./gd.js":73917,"./gl":51486,"./gl.js":51486,"./gom-deva":56245,"./gom-deva.js":56245,"./gom-latn":48868,"./gom-latn.js":48868,"./gu":59652,"./gu.js":59652,"./he":89019,"./he.js":89019,"./hi":42040,"./hi.js":42040,"./hr":63402,"./hr.js":63402,"./hu":79322,"./hu.js":79322,"./hy-am":27609,"./hy-am.js":27609,"./id":57942,"./id.js":57942,"./is":98275,"./is.js":98275,"./it":73053,"./it-ch":4378,"./it-ch.js":4378,"./it.js":73053,"./ja":46176,"./ja.js":46176,"./jv":679,"./jv.js":679,"./ka":92726,"./ka.js":92726,"./kk":72953,"./kk.js":72953,"./km":86957,"./km.js":86957,"./kn":59181,"./kn.js":59181,"./ko":47148,"./ko.js":47148,"./ku":27752,"./ku.js":27752,"./ky":65675,"./ky.js":65675,"./lb":41263,"./lb.js":41263,"./lo":65746,"./lo.js":65746,"./lt":11143,"./lt.js":11143,"./lv":38753,"./lv.js":38753,"./me":44054,"./me.js":44054,"./mi":31573,"./mi.js":31573,"./mk":30202,"./mk.js":30202,"./ml":68523,"./ml.js":68523,"./mn":79794,"./mn.js":79794,"./mr":56681,"./mr.js":56681,"./ms":56975,"./ms-my":39859,"./ms-my.js":39859,"./ms.js":56975,"./mt":3691,"./mt.js":3691,"./my":5152,"./my.js":5152,"./nb":7607,"./nb.js":7607,"./ne":21526,"./ne.js":21526,"./nl":86368,"./nl-be":40076,"./nl-be.js":40076,"./nl.js":86368,"./nn":68420,"./nn.js":68420,"./oc-lnc":51906,"./oc-lnc.js":51906,"./pa-in":94504,"./pa-in.js":94504,"./pl":54721,"./pl.js":54721,"./pt":74645,"./pt-br":54548,"./pt-br.js":54548,"./pt.js":74645,"./ro":71977,"./ro.js":71977,"./ru":26042,"./ru.js":26042,"./sd":78849,"./sd.js":78849,"./se":27739,"./se.js":27739,"./si":50084,"./si.js":50084,"./sk":92449,"./sk.js":92449,"./sl":23086,"./sl.js":23086,"./sq":33139,"./sq.js":33139,"./sr":30607,"./sr-cyrl":30063,"./sr-cyrl.js":30063,"./sr.js":30607,"./ss":40131,"./ss.js":40131,"./sv":21665,"./sv.js":21665,"./sw":5642,"./sw.js":5642,"./ta":33622,"./ta.js":33622,"./te":74825,"./te.js":74825,"./tet":48336,"./tet.js":48336,"./tg":39238,"./tg.js":39238,"./th":99463,"./th.js":99463,"./tk":39986,"./tk.js":39986,"./tl-ph":29672,"./tl-ph.js":29672,"./tlh":40043,"./tlh.js":40043,"./tr":51212,"./tr.js":51212,"./tzl":50110,"./tzl.js":50110,"./tzm":80482,"./tzm-latn":38309,"./tzm-latn.js":38309,"./tzm.js":80482,"./ug-cn":42495,"./ug-cn.js":42495,"./uk":54157,"./uk.js":54157,"./ur":80984,"./ur.js":80984,"./uz":64141,"./uz-latn":43662,"./uz-latn.js":43662,"./uz.js":64141,"./vi":12607,"./vi.js":12607,"./x-pseudo":66460,"./x-pseudo.js":66460,"./yo":92948,"./yo.js":92948,"./zh-cn":62658,"./zh-cn.js":62658,"./zh-hk":39352,"./zh-hk.js":39352,"./zh-mo":38274,"./zh-mo.js":38274,"./zh-tw":98451,"./zh-tw.js":98451};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=46700},97223:function(e){"use strict";e.exports="/*** Generic ***/"}},function(e){e.O(0,[736],function(){return 23256,e(e.s=23256)}),e.O()}])}();
//# sourceMappingURL=main-es5.505a72d8065f0a5da70f.js.map